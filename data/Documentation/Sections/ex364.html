<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>20.6. Lists of objects</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "What Makes You Tick" -->
<!-- SEARCH SECTION "Ex 371" -->
<!-- SEARCH SORT "Ex 020-006-371" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc329.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap20.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 20: Lists</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc331.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>20.6. Lists of objects</b></font></td></tr></table>
<p>
<p>While there are lists for any kind of value, the form that is useful most often is &quot;list of objects&quot;. There is nothing really different about this:
<p>
<blockquote><font color="#000080">let L be {the pot plant, the foxglove};
</font></blockquote><p>
<p>
<p>makes a list of two objects as usual. However, a much faster and more systematic way to build lists of objects is to use descriptions. If D is any description then &quot;the list of D&quot; produces a list of all the objects matching D. For instance:
<p>
<blockquote><font color="#000080">let L be the list of open containers;
<br>add the list of open doors to L;
</font></blockquote><p>
<p>
<p>means that L now contains the open containers (if any) followed by the open doors (if any). Or, for example:
<p>
<blockquote><font color="#000080">let L be the list of things;
<br>remove the list of backdrops from L;
</font></blockquote><p>
<p>
<p>makes a list of all non-backdrops.
<p>
<p>As mentioned above, lists of objects can be said in two additional ways:
<p>
<blockquote><font color="#000080">&quot;[L with definite articles]&quot;
<br>&quot;[L with indefinite articles]&quot;
</font></blockquote><p>
<p>
<p>And as mentioned below, they can be sorted in property value order:
<p>
<blockquote><font color="#000080">sort L in P order;
<br>sort L in reverse P order;
</font></blockquote><p>
<p>
<p>where P is any value property. In all other respects, lists of objects are no different to other lists.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e364"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc330.html#e364 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>371</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc330.html#e364 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> What Makes You Tick</font></b></a><br>Building a fishing pole from several component parts that the player might put together in any order.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex364.html#e364 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Suppose we want to let the player build a fishing pole out of three parts: a hook, a string, and a stick.
<p>
<p>There are several things we must account for here. One is that our combination verb should be insensitive to ordering: it shouldn't matter whether the player types COMBINE STICK WITH STRING or COMBINE STRING WITH STICK.
<p>
<p>Second, we need to make sure that our implementation handles intervening stages of assembly gracefully. The player should be able to combine string and hook first, or string and stick first, and be able to complete the assembly in either case.
<p>
<p>Our implementation here uses a table of lists to determine which combinations of inputs should produce which result object. Because we sort our lists before comparing them, we guarantee that the player's ordering doesn't matter: COMBINE STICK WITH STRING will have the same effect as COMBINE STRING WITH STICK.
<p>
<p>What's more, our implementation could be expanded to account for many other assemblages, if we wanted object-building to be a running theme of puzzles in our game.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode460(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode(' [=0x0022=]What Makes You Tick[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]combine [something] with [something][=0x0022=] as combining it with. Combining it with is an action applying to two things. Understand the command [=0x0022=]connect[=0x0022=] as [=0x0022=]combine[=0x0022=].[=0x000A=][=0x000A=]Understand the command [=0x0022=]attach[=0x0022=] as something new. Understand [=0x0022=]attach [something] to [something][=0x0022=] as combining it with.[=0x000A=][=0x000A=]The combining it with action has an object called the item built.[=0x000A=][=0x000A=]Setting action variables for combining something with something:[=0x000A=][=0x0009=]let X be a list of objects;[=0x000A=][=0x0009=]add the noun to X;[=0x000A=][=0x0009=]add the second noun to X;[=0x000A=][=0x0009=]sort X;[=0x000A=][=0x0009=]repeat through the Table of Outcome Objects[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let Y be the component list entry;[=0x000A=][=0x0009=][=0x0009=]sort Y;[=0x000A=][=0x0009=][=0x0009=]if X is Y[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item built is the result entry;[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x000A=]Check combining it with:[=0x000A=][=0x0009=]if the item built is nothing or the item built is not in limbo,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t combine [the noun] and [the second noun] into anything useful.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out combining it with:[=0x000A=][=0x0009=]move the item built to the holder of the noun;[=0x000A=][=0x0009=]remove the noun from play;[=0x000A=][=0x0009=]remove the second noun from play.[=0x000A=][=0x000A=]Report combining it with:[=0x000A=][=0x0009=]say [=0x0022=]You now have [an item built].[=0x0022=][=0x000A=][=0x000A=]Limbo is a container. Limbo contains a hookless fishing pole, a hooked line, and a complete fishing pole.[=0x000A=][=0x000A=]Streamside is a room. The player carries a stick, a wire hook, and a string.[=0x000A=][=0x000A=]Table of Outcome Objects[=0x000A=]component list[=0x0009=]result[=0x000A=]{stick, string}[=0x0009=]hookless fishing pole[=0x000A=]{wire hook, string}[=0x0009=]hooked line[=0x000A=]{hooked line, stick}[=0x0009=]complete fishing pole[=0x000A=]{hookless fishing pole, wire hook}[=0x0009=]complete fishing pole[=0x000A=][=0x000A=]Test me with [=0x0022=]combine stick with string / i / combine pole with hook / i[=0x0022=].[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode460()"><img border=0 src=../doc_images/paste.png></a>  &quot;What Makes You Tick&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;combine [something] with [something]&quot; as combining it with. Combining it with is an action applying to two things. Understand the command &quot;connect&quot; as &quot;combine&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand the command &quot;attach&quot; as something new. Understand &quot;attach [something] to [something]&quot; as combining it with.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The combining it with action has an object called the item built.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Setting action variables for combining something with something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let X be a list of objects;
<br>&nbsp;&nbsp;&nbsp;&nbsp;add the noun to X;
<br>&nbsp;&nbsp;&nbsp;&nbsp;add the second noun to X;
<br>&nbsp;&nbsp;&nbsp;&nbsp;sort X;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the Table of Outcome Objects
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let Y be the component list entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort Y;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if X is Y
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the item built is the result entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check combining it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the item built is nothing or the item built is not in limbo,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You can't combine [the noun] and [the second noun] into anything useful.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out combining it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the item built to the holder of the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;remove the noun from play;
<br>&nbsp;&nbsp;&nbsp;&nbsp;remove the second noun from play.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report combining it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You now have [an item built].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Limbo is a container. Limbo contains a hookless fishing pole, a hooked line, and a complete fishing pole.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Streamside is a room. The player carries a stick, a wire hook, and a string.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Outcome Objects
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">component list</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">result</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">{stick, string}</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hookless fishing pole</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">{wire hook, string}</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">hooked line</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">{hooked line, stick}</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">complete fishing pole</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">{hookless fishing pole, wire hook}</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">complete fishing pole</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;combine stick with string / i / combine pole with hook / i&quot;.
</font></blockquote><p>
<p>
<p>This kind of implementation makes sense if we don't intend the player to take the fishing pole apart again, or to refer to any of its component parts once it is built. For an alternate approach that does allow assembled objects to be taken apart again, see &quot;Some Assembly Required&quot;.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc330.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc329.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc331.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
