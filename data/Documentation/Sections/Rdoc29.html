<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.3. Modifying Existing Commands</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#FFFFE0">
<!-- SEARCH TITLE "Modifying Existing Commands" -->
<!-- SEARCH SECTION "6.3" -->
<!-- SEARCH SORT "006-003-000" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=Rdoc28.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../Rchap6.html STYLE="text-decoration: none"><font color="#FFFFE0" size=2>Chapter 6: Commands</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../Rindex.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=Rdoc30.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>6.3. Modifying Existing Commands</b></font></td></tr></table>
<p>
<p>Much of the rest of this chapter discusses the behavior of specific commands in Inform's command library, and how we might change and build on these. This section is instead an overview of the general principles: where and how can one intervene?
<p>
<p>Whenever we are dealing with actions, the Actions Index is likely to be useful: it lists all the actions currently implemented, whether in our own source or in extensions or the Standard Rules, and lists the rules pertaining to each.
<p>
<p>The lightest and easiest way to change behavior is with an Instead rule:
<p>
<blockquote><font color="#000080">Instead of eating the apple:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;It turns out to be made of beeswax, so that's a non-starter.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Intead of tasting an edible thing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;It's delicious!&quot;
<br>&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds.
</font></blockquote><p>
<p>
<p>The addition of &quot;rule succeeds&quot; tells Inform that the instead action was a success rather than a failure; this is not usually very important with the player's own actions, but can be useful for actions performed by other characters, so that a successfully replaced action is not followed by the disconcerting line
<p>
<blockquote><font color="#000080">Clark is unable to do that.
</font></blockquote><p>
<p>
<p>Before and After offer alternative easy forms of modification; the Basic Actions chapter explains all three.
<p>
<p>Changing the way an action works in all cases is usually better addressed by changing the main rulebook, rather than with one (or many) instead rules. We may add new check, carry out, and report rules to existing action rulebooks. The Advanced Actions chapter describes these, and ends with some guidelines on when to use before, instead, and after, and when to use check, carry out, and report.
<p>
<p>Similarly, we may delete, move, or replace rules that are already present (see the chapter on Rulebooks). This is handy if we decide that an action has restrictions that we dislike and want to abolish. If the restriction we need to change is part of the accessibility rules - those which check whether the player can take, see, and touch items - we may need to look at Changing reachability or changing visibility in the Advanced Actions chapter (to revise what is allowed), at deciding the scope of something in the Activities chapter (to influence what can be seen when), or at Procedural rules (to remove restrictions entirely).
<p>
<p>If, for instance, the player character is a burly fellow who can lift any other character he likes:
<p>
<blockquote><font color="#000080">The can't take other people rule is not listed in any rulebook.
</font></blockquote><p>
<p>
<p>...and rip knobs off doors:
<p>
<blockquote><font color="#000080">The can't take component parts rule is not listed in the check taking rulebook.
</font></blockquote><p>
<p>
<p>...and commit petty theft:
<p>
<blockquote><font color="#000080">The new can't take people's possessions rule is listed instead of the can't take people's possessions rule in the check taking rulebook.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the new can't take people's possessions rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if someone (called the owner) carries the noun:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(first waiting until [the owner] is distracted)&quot;;
</font></blockquote><p>
<p>
<p>The right approach to use also depends a bit on how systematic a change we anticipate. We may find that instead rules become cumbersome when we want to specify behavior for a very large number of objects. It's fine to have
<p>
<blockquote><font color="#000080">Instead of tasting the arsenic:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You'll live to regret this very very shortly.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end the game in death.
</font></blockquote><p>
<p>
<p>but a bit more tedious to have to write
<p>
<blockquote><font color="#000080">Instead of tasting the peppermint: ...
<br>Instead of tasting the plate: ...
<br>Instead of tasting the banister: ...
<br>Instead of tasting the donkey: ...
<br>(etc.)
</font></blockquote><p>
<p>
<p>in a game in which most items have unique flavor descriptions. In that situation, it may be more sensible to overhaul the design of the action: create a new text property for things, and revise &quot;tasting&quot; so that it now consults this property:
<p>
<blockquote><font color="#000080">The block tasting rule is not listed in any rulebook.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A thing has some text called the flavor. The flavor of a thing is usually &quot;Nothing special.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report tasting something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the flavor of the noun is &quot;Nothing special.&quot;:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You taste nothing unexpected.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[the flavor of the noun][paragraph break]&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone tasting something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The actor] licks [the noun].&quot;
</font></blockquote><p>
<p>
<p>Finally and most sweepingly, we can rip out whole passages of the Standard Rules and replace them - or not. This is a drastic measure and rarely necessary (or so we hope); but see the Extensions chapter for ways to replace sections of existing source, or even revise the Inform 6 template files on which Inform depends. By these means almost anything can be changed. We can throw out a whole range of existing commands and start from scratch, for instance, if we want Inform to know about a completely new and different command set.
<p>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=Rdoc28.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../Rindex.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=Rdoc30.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
