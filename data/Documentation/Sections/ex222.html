<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>20.9. Accessing entries in a list</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Robo 2" -->
<!-- SEARCH SECTION "Ex 404" -->
<!-- SEARCH SORT "Ex 020-009-404" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc347.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap20.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 20: Lists</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc349.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>20.9. Accessing entries in a list</b></font></td></tr></table>
<p>
<p>The length of a list can change as values are added or removed, and can in principle be any number from 0 upwards. A list with 0 entries is empty. We can find the length with:
<p>
<blockquote><font color="#000080">the number of entries of L
</font></blockquote><p>
<p>
<p>If the length is N then the entries are numbered from 1 (the front) to N (the back). These entries can be accessed directly by their numbers. For instance,
<p>
<blockquote><font color="#000080">entry 2 of L
</font></blockquote><p>
<p>
<p>refers to the second entry of L: it can be used as a value, or changed, just as if it were a named variable. For instance, we could write:
<p>
<blockquote><font color="#000080">change entry 7 of L to &quot;Spain&quot;;
<br>[or equivalently, now entry 7 of L is &quot;Spain&quot;;]
<br>say &quot;The rain in [entry 7 of L] stays mainly in the plain.&quot;;
</font></blockquote><p>
<p>
<p>which would (untruthfully) print &quot;The rain in Spain stays mainly in the plain&quot;, but only if L had an entry 7 to make use of: if L were a list of 5 entries, say, then a run-time problem results. (And if L cannot hold text, a problem message means that we never get as far as run-time.) Because entries number from 1, this is always incorrect:
<p>
<blockquote><font color="#000080">entry 0 of L
</font></blockquote><p>
<p>
<p>and if L is currently empty, then there is no entry which can be accessed, so that any use of &quot;entry ... of L&quot; would produce a run-time problem. There are programming languages in the world where accessing entry 100 in a 7-entry list automatically extends it to be 100 entries long: Inform is not one of them. But see the next section for how to change list lengths explicitly.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e222"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc348.html#e222 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>404</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc348.html#e222 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000">Robo 2</font></b></a><br>A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex222.html#e222 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>We have seen how we can make a robot that watches the player, then plays back the same actions again. A slightly more adventurous implementation would be to let the player create a whole series of named scripts which the robot will run on command.
<p>
<p>To do this, we'll need each program to have a command that sets it off (stored as indexed text, since this is the best way to capture and preserve arbitrary text entered by the player) and then the script of actions that must result:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode503(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Robo 2[=0x0022=][=0x000A=][=0x000A=]Chapter 1 - Programming[=0x000A=][=0x000A=]Section 1 - The Programs Themselves[=0x000A=][=0x000A=]The hard drive is a container. A program is a kind of thing. 15 programs are in hard drive. A program has some indexed text called the starter command. A program has a list of stored actions called the script. Understand the starter command property as describing a program.[=0x000A=][=0x000A=]Rule for printing the name of a program (called the target) which is not blank:[=0x000A=][=0x0009=]say [=0x0022=][starter command of the target in upper case][=0x0022=].[=0x000A=][=0x000A=]Definition: a program is blank if the number of entries in its script is 0.[=0x000A=][=0x000A=]The current instruction name is some indexed text that varies. The current instruction set is a list of stored actions that varies.[=0x000A=][=0x000A=][Now, we want to let Robo learn new programs; for this purpose, we[=0x0027=]ll emulate the code from our previous implementation, so that Robo watches what the player does and stores those actions in his script:][=0x000A=][=0x000A=]Section 2 - Learning New Programs[=0x000A=][=0x000A=]Understand [=0x0022=]learn [text][=0x0022=] as learning. Learning is an action applying to one topic.[=0x000A=][=0x000A=]Check learning:[=0x000A=][=0x0009=]say [=0x0022=]You have already learned all you need to know. Robo, however, remains to be trained.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo learning:[=0x000A=][=0x0009=]if Robo is watching, say [=0x0022=]Robo is already recording [=0x0027=][the current instruction name][=0x0027=].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo learning:[=0x000A=][=0x0009=]truncate the current instruction set to 0 entries;[=0x000A=][=0x0009=]change the current instruction name to the topic understood;[=0x000A=][=0x0009=]now Robo is watching.[=0x000A=][=0x000A=]Report Robo learning:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Learning [the current instruction name in upper case],[=0x0027=] Robo replies.[=0x0022=][=0x000A=][=0x000A=]After doing something when Robo is watching and Robo can see the player:[=0x000A=][=0x0009=]change the actor to Robo;[=0x000A=][=0x0009=]add the current action to the current instruction set;[=0x000A=][=0x0009=]change the actor to the player;[=0x000A=][=0x0009=]say [=0x0022=]Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=][Of course, we also need to be able to switch learning mode off, and store any script learned this way. We[=0x0027=]ll also use the same STOP command to make Robo terminate a program he[=0x0027=]s in the middle of running.][=0x000A=][=0x000A=]Section 3 - Returning to Standby Mode[=0x000A=][=0x000A=]Understand [=0x0022=]stop[=0x0022=] as stopping. Stopping is an action applying to nothing.[=0x000A=][=0x000A=]Check stopping:[=0x000A=][=0x0009=]say [=0x0022=]The command is useful only for Robo.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo stopping:[=0x000A=][=0x0009=]if Robo is standing by, stop the action.[=0x000A=][=0x000A=]Carry out Robo stopping when Robo is watching:[=0x000A=][=0x0009=]let N be a random blank program;[=0x000A=][=0x0009=]if N is a program:[=0x000A=][=0x0009=][=0x0009=]change the starter command of N to the current instruction name;[=0x000A=][=0x0009=][=0x0009=]change the script of N to the current instruction set;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]Stored [current instruction name in upper case].[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]FAILURE: no program slots remaining.[=0x0022=][=0x000A=][=0x000A=]Carry out Robo stopping:[=0x000A=][=0x0009=]now Robo is standing by.[=0x000A=][=0x000A=]Report Robo stopping:[=0x000A=][=0x0009=]say [=0x0022=]Robo is now standing by.[=0x0022=][=0x000A=][=0x000A=][Next, we need to be able to play these programs back again. We[=0x0027=]ll give Robo a [=0x0022=]current program[=0x0022=] to store which program he[=0x0027=]s currently working on, and a number called [=0x0022=]stage[=0x0022=] which will record where he is in the script. Our previous implementation simply had Robo erase entries from his script list as he performed them, but this time we would like Robo to be able to remember and rerun the same scripts over and over, so we need something a little more subtle.][=0x000A=][=0x000A=]Section 4 - Running Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]run [any program][=0x0022=] as running. Running is an action applying to one visible thing.[=0x000A=][=0x000A=]Check running:[=0x000A=][=0x0009=]say [=0x0022=]Only Robo can perform Robo[=0x0027=]s programs.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo running:[=0x000A=][=0x0009=]if Robo is not standing by, stop the action.[=0x000A=][=0x000A=]Unsuccessful attempt by Robo running:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]ERROR: Robo can launch new programs only when on standby.[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Carry out Robo running:[=0x000A=][=0x0009=]now the current program of Robo is the noun;[=0x000A=][=0x0009=]change the stage of Robo to 1;[=0x000A=][=0x0009=]now Robo is replaying.[=0x000A=][=0x000A=]Report Robo running:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Running [the starter command in upper case],[=0x0027=] Robo confirms.[=0x0022=][=0x000A=][=0x000A=]Every turn when Robo is replaying:[=0x000A=][=0x0009=]let the chosen script be the script of the current program of Robo;[=0x000A=][=0x0009=]let maximum be the number of entries in the chosen script;[=0x000A=][=0x0009=]let N be the stage of Robo;[=0x000A=][=0x0009=]let the next step be entry N of the chosen script;[=0x000A=][=0x0009=]try the next step;[=0x000A=][=0x0009=]increase the stage of Robo by 1;[=0x000A=][=0x0009=]if the stage of Robo is greater than the maximum:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Robo[=0x0027=]s program ends, and he reverts to stand-by mode.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now Robo is standing by;[=0x000A=][=0x0009=][=0x0009=]now the stage of Robo is 1.[=0x000A=][=0x000A=][For the player[=0x0027=]s sanity, we should also provide a way to find out which programs Robo has stored in memory and what they do, so we design two listing commands:][=0x000A=][=0x000A=]Section 5 - Listing Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]list programs[=0x0022=] as requesting program list. Requesting program list is an action applying to nothing.[=0x000A=][=0x000A=]Check requesting program list:[=0x000A=][=0x0009=]say [=0x0022=]You will have to ask Robo to list programs.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo requesting program list:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]The available program[if more than one program is not blank]s[end if] [is-are list of programs which are not blank].[=0x0027=][=0x0022=].[=0x000A=][=0x000A=][=0x000A=]Understand [=0x0022=]describe [any program][=0x0022=] or [=0x0022=]list [any program][=0x0022=] as requesting script of. Requesting script of is an action applying to one visible thing.[=0x000A=][=0x000A=]Check requesting script of:[=0x000A=][=0x0009=]say [=0x0022=]You will have to ask Robo to give you the script.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo requesting script of:[=0x000A=][=0x0009=]say [=0x0022=]The script of [noun] is: [script of the noun].[=0x0022=][=0x000A=][=0x000A=][And to complete the suite, in case the player runs into Robo[=0x0027=]s fifteen-program limit:][=0x000A=][=0x000A=]Section 6 - Deleting Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]delete [any program][=0x0022=] as deleting. Deleting is an action applying to one visible thing. Understand the command [=0x0022=]erase[=0x0022=] as [=0x0022=]delete[=0x0022=].[=0x000A=][=0x000A=]Check deleting:[=0x000A=][=0x0009=]say [=0x0022=]You will have to instruct Robo to delete [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo deleting (this is the can[=0x0027=]t delete except in standby rule):[=0x000A=][=0x0009=]if Robo is not standing by, stop the action.[=0x000A=][=0x000A=]Unsuccessful attempt by Robo deleting:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]ERROR: programs may only be deleted while Robo is in stand-by mode.[=0x0027=][=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo deleting:[=0x000A=][=0x0009=]truncate the script of the noun to 0 entries;[=0x000A=][=0x0009=]change the starter command of the noun to [=0x0022=][=0x0022=].[=0x000A=][=0x000A=]Report Robo deleting:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Program deleted.[=0x0027=][=0x0022=][=0x000A=][=0x000A=][Now we use pretty much the same set-up as before to test Robo[=0x0027=]s abilities:][=0x000A=][=0x000A=]Chapter 2 - The Scenario[=0x000A=][=0x000A=]The Experimentation Chamber is a room.[=0x000A=][=0x000A=]Robo is a man in the Experimentation Chamber. [=0x0022=]Robo, your prototype tin companion, stands awkwardly beside you[if watching], watching[end if].[=0x0022=] Robo can be watching, replaying, or standing by. Robo is standing by. Robo has a program called the current program. Robo has a number called the stage.[=0x000A=][=0x000A=]Persuasion rule: persuasion succeeds.[=0x000A=][=0x000A=]The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.[=0x000A=][=0x000A=]Report Robo examining Robo:[=0x000A=][=0x0009=]say [=0x0022=]Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo examining the player:[=0x000A=][=0x0009=]say [=0x0022=]Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo taking the cylinder:[=0x000A=][=0x0009=]say [=0x0022=][one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].[=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]test chocolate / test vanilla[=0x0022=].[=0x000A=][=0x000A=]Test chocolate with [=0x0022=]learn chocolate / stop / list programs / Robo, learn chocolate / take red / put all on counter / Robo, stop / Robo, list programs / Robo, run chocolate / z / Robo, run chocolate / Robo, stop / z[=0x0022=].[=0x000A=][=0x000A=]Test vanilla with [=0x0022=]Robo, learn vanilla / take all / i / drop all / x robo / x me / Robo, stop / Robo, list programs / Robo, list vanilla / Robo, run vanilla / z / z / robo, delete vanilla / robo, stop / robo, list vanilla / robo, delete vanilla / robo, list programs[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode503()"><img border=0 src=../doc_images/paste.png></a> &quot;Robo 2&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Chapter 1 - Programming
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 1 - The Programs Themselves
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The hard drive is a container. A program is a kind of thing. 15 programs are in hard drive. A program has some indexed text called the starter command. A program has a list of stored actions called the script. Understand the starter command property as describing a program.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of a program (called the target) which is not blank:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[starter command of the target in upper case]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a program is blank if the number of entries in its script is 0.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The current instruction name is some indexed text that varies. The current instruction set is a list of stored actions that varies.
</font></blockquote><p>
<p>
<p>Now, we want to let Robo learn new programs; for this purpose, we'll emulate the code from our previous implementation, so that Robo watches what the player does and stores those actions in his script:
<p>
<blockquote><font color="#000080">Section 2 - Learning New Programs
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;learn [text]&quot; as learning. Learning is an action applying to one topic.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check learning:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You have already learned all you need to know. Robo, however, remains to be trained.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check Robo learning:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Robo is watching, say &quot;Robo is already recording '[the current instruction name]'.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo learning:
<br>&nbsp;&nbsp;&nbsp;&nbsp;truncate the current instruction set to 0 entries;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the current instruction name to the topic understood;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now Robo is watching.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo learning:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Learning [the current instruction name in upper case],' Robo replies.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After doing something when Robo is watching and Robo can see the player:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the actor to Robo;
<br>&nbsp;&nbsp;&nbsp;&nbsp;add the current action to the current instruction set;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the actor to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;continue the action.
</font></blockquote><p>
<p>
<p>Of course, we also need to be able to switch learning mode off, and store any script learned this way. We'll also use the same STOP command to make Robo terminate a program he's in the middle of running.
<p>
<blockquote><font color="#000080">Section 3 - Returning to Standby Mode
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;stop&quot; as stopping. Stopping is an action applying to nothing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check stopping:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The command is useful only for Robo.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check Robo stopping:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Robo is standing by, stop the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo stopping when Robo is watching:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be a random blank program;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if N is a program:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the starter command of N to the current instruction name;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the script of N to the current instruction set;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Stored [current instruction name in upper case].'&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;FAILURE: no program slots remaining.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo stopping:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now Robo is standing by.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo stopping:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Robo is now standing by.&quot;
</font></blockquote><p>
<p>
<p>Next, we need to be able to play these programs back again. We'll give Robo a &quot;current program&quot; to store which program he's currently working on, and a number called &quot;stage&quot; which will record where he is in the script. Our previous implementation simply had Robo erase entries from his script list as he performed them, but this time we would like Robo to be able to remember and rerun the same scripts over and over, so we need something a little more subtle.
<p>
<blockquote><font color="#000080">Section 4 - Running Learned Programs
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;run [any program]&quot; as running. Running is an action applying to one visible thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check running:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Only Robo can perform Robo's programs.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check Robo running:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Robo is not standing by, stop the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Unsuccessful attempt by Robo running:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'ERROR: Robo can launch new programs only when on standby.'&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo running:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the current program of Robo is the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the stage of Robo to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now Robo is replaying.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo running:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Running [the starter command in upper case],' Robo confirms.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn when Robo is replaying:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the chosen script be the script of the current program of Robo;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let maximum be the number of entries in the chosen script;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be the stage of Robo;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the next step be entry N of the chosen script;
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the next step;
<br>&nbsp;&nbsp;&nbsp;&nbsp;increase the stage of Robo by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the stage of Robo is greater than the maximum:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Robo's program ends, and he reverts to stand-by mode.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now Robo is standing by;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the stage of Robo is 1.
</font></blockquote><p>
<p>
<p>For the player's sanity, we should also provide a way to find out which programs Robo has stored in memory and what they do, so we design two listing commands:
<p>
<blockquote><font color="#000080">Section 5 - Listing Learned Programs
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;list programs&quot; as requesting program list. Requesting program list is an action applying to nothing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check requesting program list:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You will have to ask Robo to list programs.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo requesting program list:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'The available program[if more than one program is not blank]s[end if] [is-are list of programs which are not blank].'&quot;.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Understand &quot;describe [any program]&quot; or &quot;list [any program]&quot; as requesting script of. Requesting script of is an action applying to one visible thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check requesting script of:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You will have to ask Robo to give you the script.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo requesting script of:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The script of [noun] is: [script of the noun].&quot;
</font></blockquote><p>
<p>
<p>And to complete the suite, in case the player runs into Robo's fifteen-program limit:
<p>
<blockquote><font color="#000080">Section 6 - Deleting Learned Programs
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;delete [any program]&quot; as deleting. Deleting is an action applying to one visible thing. Understand the command &quot;erase&quot; as &quot;delete&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check deleting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You will have to instruct Robo to delete [the noun].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check Robo deleting (this is the can't delete except in standby rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Robo is not standing by, stop the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Unsuccessful attempt by Robo deleting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'ERROR: programs may only be deleted while Robo is in stand-by mode.'&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out Robo deleting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;truncate the script of the noun to 0 entries;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the starter command of the noun to &quot;&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo deleting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Program deleted.'&quot;
</font></blockquote><p>
<p>
<p>Now we use pretty much the same set-up as before to test Robo's abilities:
<p>
<blockquote><font color="#000080">Chapter 2 - The Scenario
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Experimentation Chamber is a room.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Robo is a man in the Experimentation Chamber. &quot;Robo, your prototype tin companion, stands awkwardly beside you[if watching], watching[end if].&quot; Robo can be watching, replaying, or standing by. Robo is standing by. Robo has a program called the current program. Robo has a number called the stage.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Persuasion rule: persuasion succeeds.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo examining Robo:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo examining the player:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Robo taking the cylinder:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;test chocolate / test vanilla&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test chocolate with &quot;learn chocolate / stop / list programs / Robo, learn chocolate / take red / put all on counter / Robo, stop / Robo, list programs / Robo, run chocolate / z / Robo, run chocolate / Robo, stop / z&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test vanilla with &quot;Robo, learn vanilla / take all / i / drop all / x robo / x me / Robo, stop / Robo, list programs / Robo, list vanilla / Robo, run vanilla / z / z / robo, delete vanilla / robo, stop / robo, list vanilla / robo, delete vanilla / robo, list programs&quot;.
</font></blockquote><p>
<p>
<p>
<p>We could also have written this so that Robo learns new scripts by accepting the player's instructions, so that
<p>
<blockquote><font color="#000080">>ROBO, LEARN LIBRARY THEFT
<br>>ROBO, TAKE BOOK
<br>>ROBO, EAST
<br>>ROBO, STOP
</font></blockquote><p>
<p>
<p>...would store the script 'library theft' with the actions taking the book and going east. The implementation there would have been mostly identical, except that instead of an &quot;after doing something...&quot; rule, we would have captured commands as we asked Robo to perform them, and added those to the command list in progress. The alternative code might look something like this:
<p>
<blockquote><font color="#000080">Before Robo doing something other than stopping when Robo is watching:
<br>&nbsp;&nbsp;&nbsp;&nbsp;add the current action to the current instruction set;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'CHECK: [current action] added to script,' says Robo.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Unsuccessful attempt by Robo doing something when Robo is watching:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;He does not actually perform the action.&quot;
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc348.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc347.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc349.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
