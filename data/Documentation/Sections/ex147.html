<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.24. Asking which do you mean</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Originals" -->
<!-- SEARCH SECTION "Ex 304" -->
<!-- SEARCH SORT "Ex 017-024-304" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc284.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap17.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 17: Activities</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc286.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>17.24. Asking which do you mean</b></font></td></tr></table>
<p>
<p><b>1. When it happens.</b> When the player has typed an ambiguous noun reference, and Inform has not been able to decide what was meant.
<p>
<p><b>2. The default behaviour.</b> A question such as &quot;Which do you mean, the laminated mahogany box or the boom box?&quot; is printed. (This activity shapes the question: it is not responsible for parsing the answer. It would be very mysterious to write rules for this activity such that nothing is printed, because the player would then have no idea what to type.)
<p>
<p><b>3. Examples.</b> The question is harder to print than may first appear, since one must not simply list the options, but also take into account collections of plural objects (&quot;Which do you mean, the gold-tipped pen or a gold coin?''). It is probably better not to try to rewrite this.
<p>
<p>(a) But we can place notes before or after: here is a verbose explanation for beginners to IF.
<p>
<blockquote><font color="#000080">Before asking which do you mean: say &quot;Okay, so I'm going to have to ask a question now: you've typed something ambiguous, and I don't know which noun you're referring to.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After asking which do you mean: say &quot;(Just type a word or two to give me more information.)&quot;
</font></blockquote><p>
<p>
<p>(b) We can also use this activity as a context for other activities. For instance:
<p>
<blockquote><font color="#000080">The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot; The great Eiffel Tower is fixed in place. Understand &quot;actual&quot; as the great Tower.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of the great Tower while asking which do you mean: say &quot;actual Tower&quot;. Rule for printing the name of the souvenir tower while asking which do you mean: say &quot;souvenir&quot;.
</font></blockquote><p>
<p>
<p>causes TAKE TOWER (for instance) to produce a nice tidy question in reply: &quot;Which do you mean, the actual Tower or the souvenir?&quot;
<p>
<p><b>4. A note about actions.</b> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows that the action will be taking, but nothing else. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e147"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc285.html#e147 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>304</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc285.html#e147 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Originals</font></b></a><br>Allowing the player to create models of anything in the game world; parsing the name "model [thing]" or even just "[thing]" to refer to these newly-created models; asking "which do you mean, the model [thing] or the actual [thing]" when there is ambiguity.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex147.html#e147 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>We rely here on the understanding-by-relations rules we've already learned, but there is an additional trick: we want to make sure that if the player types &quot;original&quot; or &quot;actual&quot;, this word will not be taken to refer to the thing modeled:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode391(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Originals"\n\nA model is a kind of thing. 100 models are in the model-repository.\n\nAppearance relates one thing to various models. The verb to be shown by implies the appearance relation.\n\nIndication relates a model (called X) to a thing (called Y) when Y is shown by X and Y is suitable.\n\nUnderstand "actual" or "original" as "[actual]". Understand "[actual]" as something when the item described is not a model.\n\nDefinition: a thing is suitable:\n\tif the player\'s command includes "[actual]", no;\n\tyes.\n\nUnderstand "[something related by indication]" as a model.\n\nAfter printing the name of a model (called target): say " [random thing shown by the target]"\n\n[Now our duplication command -- for the sake of simplicity, we\'ll suppose that in this scenario the player is duplicating objects by magic rather than creating them out of physical materials or supplies:]\n\nUnderstand "duplicate [something]" as duplicating. Duplicating is an action applying to one visible thing.\n\nThe duplicating action has an object called the selected model.\n\nSetting action variables for duplicating:\n\tlet N be a random model in the model-repository;\n\tchange the selected model to N.\n\nCheck duplicating:\n\tif the selected model is nothing, say "You\'re out of power." instead.\n\nCarry out duplicating:\n\tnow the noun is shown by the selected model;\n\tmove the selected model to the player.\n\nReport duplicating:\n\tsay "You concentrate and manifest [a selected model]."\n\n');
}
</script>
<a href="javascript:pasteCode391()"><img border=0 src=../doc_images/paste.png></a> &quot;Originals&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A model is a kind of thing. 100 models are in the model-repository.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Appearance relates one thing to various models. The verb to be shown by implies the appearance relation.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Indication relates a model (called X) to a thing (called Y) when Y is shown by X and Y is suitable.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;actual&quot; or &quot;original&quot; as &quot;[actual]&quot;. Understand &quot;[actual]&quot; as something when the item described is not a model.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a thing is suitable:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player's command includes &quot;[actual]&quot;, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;yes.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;[something related by indication]&quot; as a model.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After printing the name of a model (called target): say &quot; [random thing shown by the target]&quot;
</font></blockquote><p>
<p>
<p>Now our duplication command -- for the sake of simplicity, we'll suppose that in this scenario the player is duplicating objects by magic rather than creating them out of physical materials or supplies:
<p>
<blockquote><font color="#000080">Understand &quot;duplicate [something]&quot; as duplicating. Duplicating is an action applying to one visible thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The duplicating action has an object called the selected model.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Setting action variables for duplicating:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be a random model in the model-repository;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the selected model to N.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check duplicating:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the selected model is nothing, say &quot;You're out of power.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out duplicating:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is shown by the selected model;
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the selected model to the player.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report duplicating:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You concentrate and manifest [a selected model].&quot;
</font></blockquote><p>
<p>
<p>Now, the challenge is that we want to print the word &quot;actual&quot; before printing the name of an object, but only during disambiguation questions and only when we are not printing the name of the object as part of a model-name! (If we are not careful about the latter point, we will get responses such as
<p>
<blockquote><font color="#000080">Which do you mean, the model actual deer or the actual deer?
</font></blockquote><p>
<p>
<p>which of course defeats the whole purpose.
<p>
<p>The way around this is to remember that activities stack: we're printing the name of the deer while printing the name of a model that involves the deer. So if we set a flag while printing the name of a model, we can control the way the deer's name prints during the transaction. (We could use our ...while clause to specify while not printing the name of a model, except that we're already using it for &quot;while asking which do you mean&quot;, and these do not stack.) So:
<p>
<blockquote><font color="#000080">The virtual-context is a number that varies. The virtual-context is 0.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing the name of a model:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now virtual-context is 1.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After printing the name of a model:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now virtual-context is 0.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing the name of something (called target) while asking which do you mean:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the target is not a model and virtual-context is 0
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;actual &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Forest is a room. It contains a deer and a daisy. The deer is an animal.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;duplicate deer / x model deer / x deer model / drop deer / x deer / actual / x deer / model&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc285.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e254"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex254.html#e254 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>305</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=ex254.html#e254 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Apples</font></b></a><br>Prompting the player on how to disambiguate otherwise similar objects.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex254.html#e254 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e199"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex199.html#e199 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>306</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=ex199.html#e199 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Walls and Noses</font></b></a><br>Responding to "EXAMINE WALL" with "In which direction?", and to "EXAMINE NOSE" with "Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?"<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex199.html#e199 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc284.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc286.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
