<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.16. Clarification and Correction</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#FFFFE0">
<!-- SEARCH TITLE "Alpaca Farm" -->
<!-- SEARCH SECTION "Ex 264" -->
<!-- SEARCH SORT "Ex 006-016-264" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=Rdoc41.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../Rchap6.html STYLE="text-decoration: none"><font color="#FFFFE0" size=2>Chapter 6: Commands</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../Rindex.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=Rdoc43.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>6.16. Clarification and Correction</b></font></td></tr></table>
<p>
<p>Some commands and some objects raise special challenges when it comes to working out the player's intention.
<p>
<p>Sometimes this can be done with good rules about the assumptions Inform should make. <b>Alpaca Farm</b> demonstrates a USE command, always a challenge because USE can mean very different actions with different items.
<p>
<p>There are also times when we need to ask the player for more information. <b>Apples</b> demonstrates how sensibly to use properties to disambiguate between similar objects, while <b>Walls and Noses</b> rephrases the disambiguation question when special objects are involved: examining one of the walls of the room will make the game ask &quot;In which direction?&quot; and EXAMINE NOSE will lead to &quot;Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?&quot;
<p>
<p>At other times, the player types something that is wrong in a predictable way: for instance, we might want to remove all the &quot;with...&quot; phrases from commands like
<p>
<blockquote><font color="#000080">HIT DOOR WITH FIST
<br>KICK DRAGON WITH FOOT
<br>LOOK WEST WITH EYES
</font></blockquote><p>
<p>
<p>and merely parse the remainder of the command. (That last command may be unlikely, but novice players do quite often type commands that refer unnecessarily to body parts.) <b>Cave-troll</b> demonstrates how.
<p>
<p><b>WXPQ</b> demonstrates how to modify the error message the parser gives in response to a command it doesn't understand; this particular example focuses on the &quot;That noun doesn't make sense in this context&quot; message that arises from using the &quot;[any thing]&quot; or &quot;[any room]&quot; tokens, but the techniques could be adapted to handling other parser errors as well.
<p>
<p>For catching typing errors, Cedric Knight's extension Mistype may also be of use: it provides an automatic typo-correction function that the player can turn on or off.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e219"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rdoc42.html#e219 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>264</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rdoc42.html#e219 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Alpaca Farm</font></b></a><br>A generic USE action which behaves sensibly with a range of different objects.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex219.html#e219 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#ffffc0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>This example takes the ordering of grammar lines to its logical extreme, sorting the player's input into different categories depending on the kind and condition of the objects mentioned.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode791(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Alpaca Farm[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]use [an edible thing][=0x0022=] as eating.[=0x000A=][=0x000A=]Understand [=0x0022=]use [a wearable thing][=0x0022=] as wearing.[=0x000A=][=0x000A=]Understand [=0x0022=]use [a closed openable container][=0x0022=] as opening. Understand [=0x0022=]use [an open openable container][=0x0022=] as closing.[=0x000A=][=0x000A=]Understand [=0x0022=]use [something preferably held] on [a locked lockable thing][=0x0022=] as unlocking it with (with nouns reversed). Understand [=0x0022=]use [something preferably held] on [an unlocked lockable thing][=0x0022=] as locking it with (with nouns reversed).[=0x000A=][=0x000A=]Understand [=0x0022=]use [a switched off device][=0x0022=] as switching on.[=0x000A=][=0x000A=]Understand [=0x0022=]use [something][=0x0022=] as using. Using is an action applying to one thing. Carry out using: say [=0x0022=]You will have to be more specific about your intentions.[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]use [a door][=0x0022=] as opening. Understand [=0x0022=]use [an open door][=0x0022=] as entering.[=0x000A=][=0x000A=]The Llama Pen is a room. North of the Pen is the gate. The gate is a door. North of the gate is the Rocky Path. The brown llama is an animal in the Llama Pen.[=0x000A=][=0x000A=]Appearance is a kind of value. The appearances are muddy, scruffy, fluffy, and dapper. The brown llama has an appearance. The brown llama is muddy. Before printing the name of the brown llama, say [=0x0022=][appearance] [=0x0022=]. Before printing the name of the brown llama while grooming: say [=0x0022=]now-[if appearance of the brown llama is less than dapper]merely-[end if][=0x0022=].[=0x000A=][=0x000A=]A grooming tool is a kind of thing. Understand [=0x0022=]use [a grooming tool] on [something][=0x0022=] as grooming it with (with nouns reversed). Grooming it with is an action applying to two things. Understand [=0x0022=]groom [something] with [something][=0x0022=] as grooming it with.[=0x000A=][=0x000A=]Carry out grooming it with:[=0x000A=][=0x0009=]if the appearance of the noun is less than dapper, change the appearance of the noun to the appearance after the appearance of the noun.[=0x000A=][=0x000A=]Report grooming it with:[=0x000A=][=0x0009=]say [=0x0022=]You attend diligently to the appearance and hygiene of [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of using a grooming tool in the presence of the brown llama:[=0x000A=][=0x0009=]try grooming the brown llama with the noun.[=0x000A=][=0x000A=]The player carries some nail nippers, a slicker brush, and an apple. The apple is edible. The brush and the nippers are grooming tools. The player wears a sombrero.[=0x000A=][=0x000A=]The description of the nail nippers is [=0x0022=]Ten inches long, to give you the necessary leverage to cut tough llama toenails. It still helps to soften them up by making the llama stand in a bucket of water first, though.[=0x0022=][=0x000A=][=0x000A=]The description of the slicker brush is [=0x0022=]Fine, angled soft bristles set into a broad back, perfect for removing mud from the coat of a long-woolled llama.[=0x0022=][=0x000A=][=0x000A=]The industrial-strength blower is a fixed in place device in the Llama Pen. [=0x0022=]Attached to the nearest wall, on its own movable boom, is an industrial-strength blower for doing llama hair.[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]use [switched off blower][=0x0022=] as switching on. Understand [=0x0022=]use [switched on blower] on [brown llama][=0x0022=] as grooming it with (with nouns reversed). Instead of using the blower in the presence of the brown llama, try grooming the brown llama with the blower.[=0x000A=][=0x000A=]Test me with [=0x0022=]use gate / use blower / use nippers / use brush / use apple / remove sombrero / use sombrero[=0x0022=].[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode791()"><img border=0 src=../doc_images/paste.png></a> &quot;Alpaca Farm&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [an edible thing]&quot; as eating.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [a wearable thing]&quot; as wearing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [a closed openable container]&quot; as opening. Understand &quot;use [an open openable container]&quot; as closing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [something preferably held] on [a locked lockable thing]&quot; as unlocking it with (with nouns reversed). Understand &quot;use [something preferably held] on [an unlocked lockable thing]&quot; as locking it with (with nouns reversed).
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [a switched off device]&quot; as switching on.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [something]&quot; as using. Using is an action applying to one thing. Carry out using: say &quot;You will have to be more specific about your intentions.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [a door]&quot; as opening. Understand &quot;use [an open door]&quot; as entering.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Llama Pen is a room. North of the Pen is the gate. The gate is a door. North of the gate is the Rocky Path. The brown llama is an animal in the Llama Pen.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Appearance is a kind of value. The appearances are muddy, scruffy, fluffy, and dapper. The brown llama has an appearance. The brown llama is muddy. Before printing the name of the brown llama, say &quot;[appearance] &quot;. Before printing the name of the brown llama while grooming: say &quot;now-[if appearance of the brown llama is less than dapper]merely-[end if]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A grooming tool is a kind of thing. Understand &quot;use [a grooming tool] on [something]&quot; as grooming it with (with nouns reversed). Grooming it with is an action applying to two things. Understand &quot;groom [something] with [something]&quot; as grooming it with.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out grooming it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the appearance of the noun is less than dapper, change the appearance of the noun to the appearance after the appearance of the noun.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report grooming it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You attend diligently to the appearance and hygiene of [the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of using a grooming tool in the presence of the brown llama:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try grooming the brown llama with the noun.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The player carries some nail nippers, a slicker brush, and an apple. The apple is edible. The brush and the nippers are grooming tools. The player wears a sombrero.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The description of the nail nippers is &quot;Ten inches long, to give you the necessary leverage to cut tough llama toenails. It still helps to soften them up by making the llama stand in a bucket of water first, though.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The description of the slicker brush is &quot;Fine, angled soft bristles set into a broad back, perfect for removing mud from the coat of a long-woolled llama.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The industrial-strength blower is a fixed in place device in the Llama Pen. &quot;Attached to the nearest wall, on its own movable boom, is an industrial-strength blower for doing llama hair.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;use [switched off blower]&quot; as switching on. Understand &quot;use [switched on blower] on [brown llama]&quot; as grooming it with (with nouns reversed). Instead of using the blower in the presence of the brown llama, try grooming the brown llama with the blower.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;use gate / use blower / use nippers / use brush / use apple / remove sombrero / use sombrero&quot;.
</font></blockquote><p>
<p>
<p>Whether we actually want a USE action is a subject of some theoretical debate in the IF community. On the one hand, it helps avoid guess-the-verb problems where the player cannot figure out what term to use in order to express a fairly simple idea. On the other, it encourages the player to think that all items have one and exactly one use, rather than getting him to consider the range of possibilities that arise from having a complex vocabulary.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=Rdoc42.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e269"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex269.html#e269 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>336</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex269.html#e269 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Apples</font></b></a><br>Prompting the player on how to disambiguate otherwise similar objects.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex269.html#e269 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e307"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex307.html#e307 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>337</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex307.html#e307 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Walls and Noses</font></b></a><br>Responding to "EXAMINE WALL" with "In which direction?", and to "EXAMINE NOSE" with "Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?"<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex307.html#e307 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e230"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex230.html#e230 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>390</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex230.html#e230 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Cave-troll</font></b></a><br>Determining that the command the player typed is invalid, editing it, and re-examining it to see whether it now reads correctly.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex230.html#e230 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e141"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex141.html#e141 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>345</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex141.html#e141 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> WXPQ</font></b></a><br>Creating a more sensible parser error than "that noun did not make sense in this context".<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex141.html#e141 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=Rdoc41.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../Rindex.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=Rdoc43.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
