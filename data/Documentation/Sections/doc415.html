<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>24.21. Primitive Inform 6 declarations of rules</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Primitive Inform 6 declarations of rules" -->
<!-- SEARCH SECTION "24.21" -->
<!-- SEARCH SORT "024-021-000" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc414.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap24.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 24: Extensions</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc416.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>24.21. Primitive Inform 6 declarations of rules</b></font></td></tr></table>
<p>
<p>By writing a sentence like this:
<p>
<blockquote><font color="#000080">The underground rule translates into I6 as &quot;UNDERGROUND_R&quot;.
</font></blockquote><p>
<p>
<p>we create a new rule, the &quot;underground rule&quot;, and also notify Inform that it will have no definition as I7 source text: instead, it will be provided as an I6 routine called &quot;UNDERGROUND_R&quot;. We can define this with an Include like so:
<p>
<blockquote><font color="#000080">Include (-
<br>[ UNDERGROUND_R;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if (real_location hasnt light) { RulebookSucceeds(); rtrue; }
<br>&nbsp;&nbsp;&nbsp;&nbsp;rfalse;
<br>];
<br>-).
</font></blockquote><p>
<p>
<p>The rule should return false if it wants to make no decision, but call either RulebookSucceeds or RulebookFails and return true if it does. These routines can optionally take an argument: which will be the return value from the rulebook.
<p>
<p>Note that UNDERGROUND_R itself has no arguments. In the case of an action-based rulebook, the I6 variables noun, second and actor can be referred to, while for an object-based rulebook the parameter object is stored in the I6 global variable parameter_object.
<p>
<p>We can put this rule into a rulebook in the same way that any named rule can be:
<p>
<blockquote><font color="#000080">The underground rule is listed in the spot danger rules.
</font></blockquote><p>
<p>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc414.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc416.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
