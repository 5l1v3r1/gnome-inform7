<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.8. Moving backdrops</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Orange Cones" -->
<!-- SEARCH SECTION "Ex 115" -->
<!-- SEARCH SORT "Ex 008-008-115" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc118.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap8.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 8: Change</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc120.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>8.8. Moving backdrops</b></font></td></tr></table>
<p>
<p>A backdrop can be in several rooms at once. When created, its position can be given as any specific collection of rooms, or as a region, or even as &quot;everywhere&quot;. For instance:
<p>
<blockquote><font color="#000080">The Upper Cave is above the Rock Pool. The Ledge is east of the Pool.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The stream is a backdrop. It is in the Upper Cave and the Ledge.
</font></blockquote><p>
<p>
<p>Moving backdrops is not like moving other things, because there's no single destination. There are several possibilities:
<p>
<p>(a) A backdrop can be moved to a region. If we define:
<p>
<blockquote><font color="#000080">Lower Level is a region. The Rock Pool and the Ledge are in the Lower Level.
</font></blockquote><p>
<p>
<p>then we can write either of
<p>
<blockquote><font color="#000080">move the stream to the Lower Level;
<br>now the stream is in the Lower Level;
</font></blockquote><p>
<p>
<p>and either way, the stream is now found in the Rock Pool and the Ledge but nowhere else.
<p>
<p>(b) A backdrop can be moved to any set of rooms matching a given description. If we define:
<p>
<blockquote><font color="#000080">A room can be wet or dry. A room is usually dry. The Rock Pool is wet.
</font></blockquote><p>
<p>
<p>then we can write
<p>
<blockquote><font color="#000080">move the stream backdrop to all wet rooms;
</font></blockquote><p>
<p>
<p>Note that this form of words, &quot;move the ... backdrop to all ...&quot; is deliberately meant to look unlike the simpler ways to move things, to emphasise that this kind of movement is possible only for backdrops.
<p>
<p>What then happens is that the stream is present in whichever rooms are currently wet. But the stream's position is ordinarily checked only after movements, for efficiency's sake. So if the player is in a room which suddenly changes from being dry to being wet, the stream will not magically appear (though it will be there if the player goes out and comes in again). If this is not good enough, the phrase &quot;update backdrop positions&quot; can be used to ensure the accuracy of all backdrop locations after a dramatic change:
<p>
<blockquote><font color="#000080">The Upper Cave is above the Rock Pool. The Ledge is east of the Pool. The stream is a backdrop.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the stream backdrop to all wet rooms.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A lever is in the Cave. The lever is fixed in place.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of pulling the lever when the Cave is dry:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the Cave is wet;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the lever is in the Rock Pool;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the lever is portable;
<br>&nbsp;&nbsp;&nbsp;&nbsp;update backdrop positions;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The old rusty lever pulls away, and the thin cave wall goes with it, so that a stream bursts into the cave, falling to the pool below.&quot;
</font></blockquote><p>
<p>
<p>(c) A backdrop can be removed from play, just as anything else can be: see the later section in this chapter.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e89"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc119.html#e89 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>115</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc119.html#e89 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Orange Cones</font></b></a><br>Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex89.html#e89 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.
<p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own &quot;accessible&quot; adjective as follows:
<p>
<blockquote><font color="#000080">Definition: a road is accessible if the orange cones are not in it.
</font></blockquote><p>
<p>
<p>...and now
<p>
<blockquote><font color="#000080">move the traffic backdrop to all accessible roads.
</font></blockquote><p>
<p>
<p>will tell the traffic backdrop where to appear.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode212(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Orange Cones[=0x0022=][=0x000A=][=0x000A=]A road is a kind of room.[=0x000A=][=0x000A=]The traffic is a backdrop. It is not scenery. The initial appearance is [=0x0022=]Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.[=0x0022=] The description is [=0x0022=]It is more or less as usual for this time of day. It[=0x0027=]s a wonder it ever dissipates, really.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]move the traffic backdrop to all accessible roads.[=0x000A=][=0x000A=]A line of orange cones are a thing.[=0x000A=][=0x000A=]Definition: a road is accessible if the orange cones are not in it.[=0x000A=][=0x000A=]After dropping the orange cones in a road:[=0x000A=][=0x0009=]say [=0x0022=]With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=]After taking the orange cones:[=0x000A=][=0x0009=]say [=0x0022=]You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=][That accomplishes everything we set out to do, but let[=0x0027=]s add a very simple puzzle to test it out with:][=0x000A=][=0x000A=]The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.[=0x000A=][=0x000A=]The line of orange cones are in Mortar Street.[=0x000A=][=0x000A=]The player wears a reflective vest and a hard hat.[=0x000A=][=0x000A=]The manhole cover is a door. [=0x0022=][if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There[=0x0027=]s a promising manhole in the middle of the street.[end if][=0x0022=]. It is closed and openable. It is below the Town Square and above the Access Tunnel.[=0x000A=][=0x000A=]Instead of opening the manhole cover when the location is an accessible road:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get anywhere near the manhole cover with all these cars above it.[=0x0022=][=0x000A=][=0x000A=]Instead of taking the orange cones in Town Square:[=0x000A=][=0x0009=]if the manhole cover is closed or Town Square is accessible, continue the action;[=0x000A=][=0x0009=]otherwise say [=0x0022=]You[=0x0027=]d better not let the traffic back in until you[=0x0027=]ve closed the manhole. There[=0x0027=]ll be accidents otherwise.[=0x0022=][=0x000A=][=0x000A=]After going to the Access Tunnel:[=0x000A=][=0x0009=]say [=0x0022=]With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.[=0x0022=];[=0x000A=][=0x0009=]end the game in victory.[=0x000A=][=0x000A=][And finally, a couple of features from the Activities chapter to make the output more elegant:][=0x000A=][=0x000A=]Rule for writing a paragraph about the orange cones: say [=0x0022=]A line of orange cones holds back the traffic from entering here.[=0x0022=][=0x000A=][=0x000A=]Rule for printing the name of the orange cones when the cones are carried by the player:[=0x000A=][=0x0009=]say [=0x0022=]stack of orange cones[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d[=0x0022=].[=0x000A=]');
}
</script>
<a href="javascript:pasteCode212()"><img border=0 src=../doc_images/paste.png></a> &quot;Orange Cones&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A road is a kind of room.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It's a wonder it ever dissipates, really.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the traffic backdrop to all accessible roads.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A line of orange cones are a thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a road is accessible if the orange cones are not in it.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After dropping the orange cones in a road:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;update backdrop positions.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After taking the orange cones:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;update backdrop positions.
</font></blockquote><p>
<p>
<p>That accomplishes everything we set out to do, but let's add a very simple puzzle to test it out with:
<p>
<blockquote><font color="#000080">The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The line of orange cones are in Mortar Street.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The player wears a reflective vest and a hard hat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There's a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of opening the manhole cover when the location is an accessible road:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You can't get anywhere near the manhole cover with all these cars above it.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of taking the orange cones in Town Square:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the manhole cover is closed or Town Square is accessible, continue the action;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;You'd better not let the traffic back in until you've closed the manhole. There'll be accidents otherwise.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After going to the Access Tunnel:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end the game in victory.
</font></blockquote><p>
<p>
<p>And finally, a couple of features from the Activities chapter to make the output more elegant:
<p>
<blockquote><font color="#000080">Rule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of the orange cones when the cones are carried by the player:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;stack of orange cones&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc119.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc118.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc120.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
