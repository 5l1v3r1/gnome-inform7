<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.28. Printing a parser error</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Xot" -->
<!-- SEARCH SECTION "Ex 328" -->
<!-- SEARCH SORT "Ex 017-028-328" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc289.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap17.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 17: Activities</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc291.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>17.28. Printing a parser error</b></font></td></tr></table>
<p>
<p><b>1. When it happens.</b> The parser is the part of the run-time software, included in all works produced by Inform, which tries to match the player's command against the grammar provided by the work. When it is unable to make a valid match, the parser prints an error to the player: for instance,
<p>
<blockquote><font color="#000080">> BIFURCATE TREE
<br>That's not a verb I recognise.
</font></blockquote><p>
<p>
<p>There are some 18 possible messages, and we can distinguish them using the following conditions:
<p>
<blockquote><font color="#000080">if the parser error is didn't understand...
<br>if the parser error is only understood as far as...
<br>if the parser error is didn't understand that number...
<br>if the parser error is can't see any such thing...
<br>if the parser error is said too little...
<br>if the parser error is aren't holding that...
<br>if the parser error is can't use multiple objects...
<br>if the parser error is can only use multiple objects...
<br>if the parser error is not sure what it refers to...
<br>if the parser error is excepted something not included...
<br>if the parser error is can only do that to something animate...
<br>if the parser error is not a verb I recognise...
<br>if the parser error is not something you need to refer to...
<br>if the parser error is can't see it at the moment...
<br>if the parser error is didn't understand the way that finished...
<br>if the parser error is not enough of those available...
<br>if the parser error is nothing to do...
<br>if the parser error is I beg your pardon...
</font></blockquote><p>
<p>
<p><b>2. The default behaviour.</b> Prints the message in question.
<p>
<p><b>3. Examples.</b> (a) Perhaps for newcomers:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode69(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('After printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]If you are new to interactive fiction, you may like to try typing HELP.[=0x0022=][=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode69()"><img border=0 src=../doc_images/paste.png></a> After printing a parser error:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;If you are new to interactive fiction, you may like to try typing HELP.&quot;
</font></blockquote><p>
<p>
<p>(b) Or to give the parser a certain amount of character:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode70(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('Rule for printing a parser error when parser error is I beg your pardon:[=0x000A=][=0x0009=]say [=0x0022=]What[=0x0027=]s that? Speak up, speak up.[=0x0022=] instead.[=0x000A=][=0x000A=]{*}Rule for printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]That[=0x0027=]s a rum thing to say, and no mistake.[=0x0022=] instead.[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode70()"><img border=0 src=../doc_images/paste.png></a> Rule for printing a parser error when parser error is I beg your pardon:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;What's that? Speak up, speak up.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode71(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('Rule for printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]That[=0x0027=]s a rum thing to say, and no mistake.[=0x0022=] instead.[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode71()"><img border=0 src=../doc_images/paste.png></a> Rule for printing a parser error:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;That's a rum thing to say, and no mistake.&quot; instead.
</font></blockquote><p>
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e69"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc290.html#e69 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>328</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc290.html#e69 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Xot</font></b></a><br>Storing an invalid command to be repeated as text later in the game.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex69.html#e69 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.
<p>
<p>This requires us to borrow the idea of &quot;indexed text&quot; -- a more flexible kind of text than the usual &quot;text that varies&quot; -- from the Advanced Text chapter:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode416(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode(' [=0x0022=]Xot[=0x0022=][=0x000A=][=0x000A=]Humiliation Chamber is a room. [=0x0022=]A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can[=0x0027=]t disable it, is a loudspeaker.[=0x0022=][=0x000A=][=0x000A=]Last error is indexed text that varies. The last error is [=0x0022=]xot[=0x0022=].[=0x000A=][=0x000A=]Before printing a parser error:[=0x000A=][=0x0009=]change the last error to the player[=0x0027=]s command.[=0x000A=][=0x000A=]Every turn when a random chance of 1 in 2 succeeds:[=0x000A=][=0x0009=]say [=0x0022=]Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying [=0x0027=][last error], [last error], [last error]![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]wiggle / z / z / z / z / z / z[=0x0022=].[=0x000A=]');
}
</script>
<a href="javascript:pasteCode416()"><img border=0 src=../doc_images/paste.png></a>  &quot;Xot&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Last error is indexed text that varies. The last error is &quot;xot&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing a parser error:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last error to the player's command.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn when a random chance of 1 in 2 succeeds:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc290.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc289.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc291.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
