<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>16.17. Context: understanding when</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "Quiz Show" -->
<!-- SEARCH SECTION "Ex 295" -->
<!-- SEARCH SORT "Ex 016-017-295" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc264.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap16.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 16: Understanding</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc266.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>16.17. Context: understanding when</b></font></td></tr></table>
<p>
<p>We have now seen several different forms of &quot;Understand&quot; sentence: for instance,
<p>
<blockquote><font color="#000080">Understand the colour property as describing a building block.
<br>Understand &quot;mix [colour] paint&quot; as mixing paint.
<br>Understand &quot;rouge&quot; as red.
<br>Understand &quot;curious girl&quot; as Alice.
</font></blockquote><p>
<p>
<p>Any of these may optionally have a condition tacked on: for instance,
<p>
<blockquote><font color="#000080">Understand &quot;mix [colour] paint&quot; as mixing paint when the location is the Workshop.
<br>Understand &quot;rouge&quot; as red when the make-up set is visible.
</font></blockquote><p>
<p>
<p>In principle, &quot;when ...&quot; can take in any condition at all. In practice a little care should be exercised not to do anything too slow, or which might have side-effects. (For instance, referring the decision to a phrase which then printed text up would be a bad idea.) Moreover, we must remember that the &quot;noun&quot; and &quot;second noun&quot; are not known yet, nor do we know what the action will be. So we cannot safely say &quot;when the noun is the fir cone&quot;, for instance. If we want more sophisticated handling of such cases, we need to write checking rules and so on in the usual way.
<p>
<p>Contexts can be useful to make sense of things having different names depending on who is being spoken to, as here:
<p>
<blockquote><font color="#000080">Understand &quot;your&quot; as a thing when the item described is held by the person asked.
</font></blockquote><p>
<p>
<p>With this rule in place FRODO, GIVE ME YOUR RING means that Frodo will know which ring is meant, even if there are a couple of dozen other rings present.
<p>
<p>If the name of something has to change completely, perhaps because the player's understanding of events has changed completely, then Inform's standard way of handling names can be a nuisance. When an item or room is created, Inform automatically makes its name understood as referring to it (in fact, it makes each individual word in that name understood). For instance,
<p>
<blockquote><font color="#000080">The Wabe is a room. The blue peacock and the sundial are in the Wabe.
</font></blockquote><p>
<p>
<p>means that the player can type EXAMINE BLUE PEACOCK or PUSH SUNDIAL or SHOWME WABE or TAKE BLUE, and so on. This is almost always a good thing, and here there's no problem, because peacocks and sundials are not usually disguised. But here is a case where a disguise is needed:
<p>
<blockquote><font color="#000080">The secret document is a privately-named thing in the drawer.
<br>The printed name of the secret document is &quot;[if the secret document is handled]secret document[otherwise]dusty paper&quot;.
<br>Understand &quot;dusty&quot; and &quot;paper&quot; as the secret document.
<br>Understand &quot;secret&quot; and &quot;document&quot; as the secret document when the secret document is handled.
<br>After taking the secret document for the first time: say &quot;Heavens! It is the secret document!&quot;
</font></blockquote><p>
<p>
<p>
<p>As this demonstrates, the either/or property &quot;privately-named&quot; makes Inform create a thing or room which starts out with no automatic understandings at all. The name it happens to have in the source text is ignored. If we simply write:
<p>
<blockquote><font color="#000080">The ungraspable concept is a privately-named thing in the Dining Room.
</font></blockquote><p>
<p>
<p>then nothing the player can type will ever refer to it; though he will see it, and even be able to pick it up by typing TAKE ALL.
<p>
<p>The reverse property is &quot;publically-named&quot;, which all things and rooms are by default.
<p>
<p>(Privately-named is a property which only affects how Inform creates the object, and it can't usefully be given or taken away during play. &quot;Understand ... when ...&quot; is the way to change names during play.)
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e104"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc265.html#e104 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>295</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc265.html#e104 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Quiz Show</font></b></a><br>In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex104.html#e104 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode391(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Quiz Show[=0x0022=] by Mike Tarbert[=0x000A=][=0x000A=]Answer mode is a truth state that varies.[=0x000A=]Current state is a text that varies.[=0x000A=][=0x000A=]Guessing is an action applying to one topic.[=0x000A=]Understand [=0x0022=][text][=0x0022=] as guessing when answer mode is true.[=0x000A=][=0x000A=][Because of the [=0x0022=]...when[=0x0022=] part of this line, random text is only treated as an answer when a question is being asked.][=0x000A=][=0x000A=]Check guessing (this is the default wrong answer rule):[=0x000A=][=0x0009=]if the topic understood is not a topic listed in the Table of Dates of Statehood:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Wrong![=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=]Carry out guessing a topic listed in the Table of Dates of Statehood:[=0x000A=][=0x0009=]if state entry is the current state:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Correct! ([comment entry], to be exact!)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]increase the score by one;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Wrong![=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=][This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.][=0x000A=][=0x000A=]Before doing anything other than guessing:[=0x000A=][=0x0009=]if answer mode is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](ignoring the question)[line break][=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Lab is a room.  Sam is a man in the lab.[=0x000A=][=0x000A=]Every turn when in the lab:[=0x000A=][=0x0009=]if a random chance of 3 in 5 succeeds:[=0x000A=][=0x0009=][=0x0009=]choose a random row in the Table of Dates of Statehood;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Sam asks you, [=0x0027=]In what year was [state entry] admitted into the Union?[=0x0027=][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now current state is state entry;[=0x000A=][=0x0009=][=0x0009=]now answer mode is true.[=0x000A=][=0x000A=]Table of Dates of Statehood[=0x000A=]State[=0x0009=]Topic[=0x0009=]Comment[=0x000A=][=0x0022=]Florida[=0x0022=][=0x0009=][=0x0022=]1845[=0x0022=][=0x0009=][=0x0022=]March 3rd[=0x0022=][=0x000A=][=0x0022=]Delaware[=0x0022=][=0x0009=][=0x0022=]1787[=0x0022=][=0x0009=][=0x0022=]December 7th[=0x0022=][=0x000A=][=0x0022=]Hawaii[=0x0022=][=0x0009=][=0x0022=]1960[=0x0022=][=0x0009=][=0x0022=]July 4th[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]1845 / z / z / 1787 / 1792 / z / 1845 / g[=0x0022=].[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode391()"><img border=0 src=../doc_images/paste.png></a> &quot;Quiz Show&quot; by Mike Tarbert
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Answer mode is a truth state that varies.
<br>Current state is a text that varies.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Guessing is an action applying to one topic.
<br>Understand &quot;[text]&quot; as guessing when answer mode is true.
</font></blockquote><p>
<p>
<p>Because of the &quot;...when&quot; part of this line, random text is only treated as an answer when a question is being asked.
<p>
<blockquote><font color="#000080">Check guessing (this is the default wrong answer rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the topic understood is not a topic listed in the Table of Dates of Statehood:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Wrong!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now answer mode is false.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out guessing a topic listed in the Table of Dates of Statehood:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if state entry is the current state:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Correct! ([comment entry], to be exact!)&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase the score by one;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Wrong!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now answer mode is false.
</font></blockquote><p>
<p>
<p>This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.
<p>
<blockquote><font color="#000080">Before doing anything other than guessing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if answer mode is true:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(ignoring the question)[line break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now answer mode is false.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 2 - Scenario
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Lab is a room.  Sam is a man in the lab.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn when in the lab:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if a random chance of 3 in 5 succeeds:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose a random row in the Table of Dates of Statehood;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Sam asks you, 'In what year was [state entry] admitted into the Union?'&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now current state is state entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now answer mode is true.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Dates of Statehood
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">State</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">Topic</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">Comment</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;Florida&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;1845&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;March 3rd&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;Delaware&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;1787&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;December 7th&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;Hawaii&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;1960&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;July 4th&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;1845 / z / z / 1787 / 1792 / z / 1845 / g&quot;.
</font></blockquote><p>
<p>
<p>Note that the situation will become a little more complicated if we have two or more identical topics in our trivia list; in that case, we would need to loop through the Table of Dates of Statehood explicitly, and only mark the player wrong if none of the lines were found to match. (See the chapter on Tables for many more ways to manipulate table behavior.)
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc265.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e140"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex140.html#e140 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>296</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=ex140.html#e140 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Bibliophilia</font></b></a><br>A bookshelf with a number of books, where the player's command to examine something will be interpreted as an attempt to look up titles if the bookshelf is present, but otherwise given the usual response.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex140.html#e140 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc264.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc266.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
