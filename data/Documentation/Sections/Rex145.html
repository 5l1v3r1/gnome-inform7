<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>7.12. Traveling Characters</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#FFFFE0">
<!-- SEARCH TITLE "Patient Zero" -->
<!-- SEARCH SECTION "Ex 354" -->
<!-- SEARCH SORT "Ex 007-012-354" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=Rdoc50.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../Rchap7.html STYLE="text-decoration: none"><font color="#FFFFE0" size=2>Chapter 7: Other Characters</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../Rindex.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=Rdoc52.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>7.12. Traveling Characters</b></font></td></tr></table>
<p>
<p>There are a number of ways we can make characters navigate our map. We might reasonably want them to approach and follow the player (as in <b>Van Helsing</b>); or to allow the player to follow characters who have left the room (as in <b>Actaeon</b>).
<p>
<p>Characters who are less interested in the player will more likely follow their own courses around the available geography, however. A character may move randomly from room to room, as demonstrated in <b>Mistress of Animals</b>; he may follow a path that we have specifically written in advance, as <b>Odyssey</b> shows; or, most elegantly, he may use the &quot;best route&quot; calculation to find the best possible way to a given target room, as seen in <b>Latris Theon</b>.
<p>
<p>This final method is arguably the neatest solution to character movement, allowing for characters to act in sophisticated ways; if we incorporate the Locksmith extension, other characters will even unlock and open doors that are in their way. The chief catch is that it should not be used too profligately with large numbers of characters, since on slow machines the processing power required to plan all their travel will make a noticeable difference to the running speed of the game.
<p>
<p>All the same, the constraints are not so severe as to preclude having a moderate number of route-finding characters all wandering around at once. This does introduce a new problem, however: movement descriptions can become hard to follow if every turn produces long reams of reports such as
<p>
<blockquote><font color="#000080">Joe enters the room from the south.
<br>Lawrence opens the gate.
<br>Lawrence departs to the west.
<br>Lucy comes in from above.
<br>Ted enters the room from the south.
<br>Bill departs to the west.
</font></blockquote><p>
<p>
<p><b>Patient Zero</b> tackles this problem by calculating all of the character movement without printing any text; it then combines similar or related events into coherent paragraphs, as in
<p>
<blockquote><font color="#000080">Rhoda and Antony walk into the Post Office. Rhoda could have been rolling in chocolate and Antony looks as though dipped in french vanilla.
</font></blockquote><p>
<p>
<p>or
<p>
<blockquote><font color="#000080">Antony opens the iron gate. He goes through.
</font></blockquote><p>
<p>
<p><hr><p>
<a name="e49"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex49.html#e49 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>71</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex49.html#e49 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Mistress of Animals</font></b></a><br>A person who moves randomly between rooms of the map.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex49.html#e49 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e213"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex213.html#e213 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>242</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex213.html#e213 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Odyssey</font></b></a><br>A person who follows a path predetermined and stored in a table, and who can be delayed if the player tries to interact with her.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex213.html#e213 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e153"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex153.html#e153 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>171</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex153.html#e153 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Latris Theon</font></b></a><br>A person who can accept instructions to go to new destinations and move towards them according to the most reasonable path.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex153.html#e153 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e159"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex159.html#e159 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>268</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex159.html#e159 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Actaeon</font></b></a><br>A FOLLOW command allowing the player to pursue a person who has just left the room.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex159.html#e159 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e19"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex19.html#e19 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>37</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex19.html#e19 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Van Helsing</font></b></a><br>A character who approaches the player, then follows him from room to room.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex19.html#e19 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<!-- EXAMPLE START -->
<a name="e145"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rdoc51.html#e145 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>354</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rdoc51.html#e145 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Patient Zero</font></b></a><br>People who wander around the map performing various errands, and in the process spread a disease which only the player can eradicate.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex145.html#e145 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#ffffc0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode851(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Patient Zero[=0x0022=][=0x000A=][=0x000A=]Use the serial comma and no scoring.[=0x000A=][=0x000A=]Understand [=0x0022=]about[=0x0022=] as asking for information. Asking for information is an action out of world.[=0x000A=][=0x000A=]Carry out asking for information: say [=0x0022=]An implementation of the following creative brief:[=0x000A=][=0x000A=]People wander around some small map, on errands. One, sad to tell, has Gelato[=0x0027=]s Syndrome, a tragic condition turning one[=0x0027=]s skin the colour of a random flavour of ice cream (raspberry ripple, neapolitan, etc.). When two people are in the same room, there[=0x0027=]s a 1/3 chance that an infected person will infect a non-infected one. The player can cure any single person: victory condition - to stamp out the disease.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Gelato[=0x0027=]s Syndrome. It[=0x0027=]s struck, and it[=0x0027=]s struck hard. In these sticky summer months, there[=0x0027=]s no telling who will contract the disease next.[=0x0022=];[=0x000A=][=0x0009=]change the command prompt to [=0x0022=][if the destination of the player is not blank](heading to [destination of the player]) [end if][=0x003E=][=0x0022=].[=0x000A=][=0x000A=]Section 1 - Errands[=0x000A=][=0x000A=]The current actor is a person which varies. The current owner is a person which varies.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if player is active, follow the character movement rules.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]change the last person named to the player;[=0x000A=][=0x0009=]change the last thing named to the player;[=0x000A=][=0x0009=]now every person is active.[=0x000A=][=0x000A=]A person can be active or passive. The player is passive.[=0x000A=][=0x000A=]The character movement rules are a rulebook.[=0x000A=][=0x000A=]The first character movement rule:[=0x000A=][=0x0009=]change group size to 1;[=0x000A=][=0x0009=]change the last person named to the player;[=0x000A=][=0x0009=]change the last thing named to the player;[=0x000A=][=0x0009=]now the player is passive.[=0x000A=][=0x000A=]A character movement rule:[=0x000A=][=0x0009=]repeat with mover running through innocent people[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]change the current actor to the mover;[=0x000A=][=0x0009=][=0x0009=]consider the shopper rules;[=0x000A=][=0x0009=][=0x0009=]now the current actor is passive;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x0009=]consider the movement reporting rule.[=0x000A=][=0x000A=]A character movement rule:[=0x000A=][=0x0009=]repeat with next mover running through mercantile people[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]change the current owner to the next mover;[=0x000A=][=0x0009=][=0x0009=]consider the shopowner rules;[=0x000A=][=0x0009=][=0x0009=]now the current owner is passive;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x0009=]consider the infection rule.[=0x000A=][=0x000A=]To decide whether movement has not yet occurred:[=0x000A=][=0x0009=]if the player is passive, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=]Definition: a person is mercantile if it owns a room. Definition: a person is innocent if it is not mercantile and it is not the player.[=0x000A=][=0x000A=]The shopowner rules is a rulebook.[=0x000A=][=0x000A=]A shopowner rule:[=0x000A=][=0x0009=]let the shop be a random room owned by the current owner;[=0x000A=][=0x0009=]if the shop is air-conditioned and an open door (called the escape) protects the shop, try the current owner closing the escape instead.[=0x000A=][=0x000A=]Report someone closing a door when the person asked owns the location:[=0x000A=][=0x0009=]say [=0x0022=][The person asked], muttering darkly about air-conditioning and electricity, closes [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Report Vanessa closing the metal door when the metal door is visible:[=0x000A=][=0x0009=]if Vanessa is visible, say [=0x0022=]Vanessa watches serenely as the metal door slides automatically back in place, sealing Cold Comfort.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise say [=0x0022=]The metal door slides heavily back into place.[=0x0022=] instead.[=0x000A=][=0x000A=]A shopowner rule:[=0x000A=][=0x0009=]if the location of the current owner encloses a submitted artwork (called the target)[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]try the current owner filing the target;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Filing is an action applying to one thing.[=0x000A=][=0x000A=]Before someone filing something which is not carried by the person asked:[=0x000A=][=0x0009=]try the person asked taking the noun instead.[=0x000A=][=0x000A=]Carry out someone filing:[=0x000A=][=0x0009=]if the person asked does not carry the noun and the person asked is visible, say [=0x0022=][The person asked] tries unsuccessfully to get [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]remove the noun from play.[=0x000A=][=0x000A=]Report someone filing:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] registers [the noun] and files it away.[=0x0022=][=0x000A=][=0x000A=]The shopper rules is a rulebook.[=0x000A=][=0x000A=]A shopper rule:[=0x000A=][=0x0009=]if the current actor carries something (called the problem), try the current actor resolving the problem instead.[=0x000A=][=0x000A=]A shopper rule:[=0x000A=][=0x0009=]if the current actor is not in the pool hall and the air conditioner is switched on[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]try the current actor approaching the pool hall;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]let way be a random direction;[=0x000A=][=0x0009=][=0x0009=]try the current actor going the way;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=][=0x000A=]Definition: a room is air-conditioned:[=0x000A=][=0x0009=]if it is outdoors, no;[=0x000A=][=0x0009=]if it is the Pool Hall and the air conditioner is switched off, no;[=0x000A=][=0x0009=]if it is protected by a door, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Protection relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to protect (it protects, they protect, it protected, it is protected) implies the protection relation.[=0x000A=][=0x000A=]Ownership relates one person to various rooms. The verb to own (he owns, they own, he owned, it is owned) implies the ownership relation.[=0x000A=][=0x000A=]Resolving is an action applying to one thing.[=0x000A=][=0x000A=]An artwork is a kind of thing. Before printing the name of an artwork, say italic type. After printing the name of an artwork, say roman type. An artwork can be submitted or reserved.[=0x000A=][=0x000A=]A book is a kind of artwork.[=0x000A=][=0x000A=]Before someone resolving a book when the person asked is not in the Public Library:[=0x000A=][=0x0009=]try the person asked approaching the Public Library instead.[=0x000A=][=0x000A=]Carry out someone resolving a book:[=0x000A=][=0x0009=]move the noun to the Public Library;[=0x000A=][=0x0009=]now the noun is submitted.[=0x000A=][=0x000A=]Report someone resolving a book:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] turns in [the noun].[=0x0022=][=0x000A=][=0x000A=]Before listing contents: group books together.[=0x000A=][=0x000A=]Before grouping together books: say [=0x0022=]books entitled [=0x0022=].[=0x000A=][=0x000A=][=0x000A=]A stamped envelope is a kind of thing.[=0x000A=][=0x000A=]Before someone resolving a stamped envelope when the person asked is not in the Post Office:[=0x000A=][=0x0009=]try the person asked approaching the Post Office instead.[=0x000A=][=0x000A=]Carry out someone resolving a stamped envelope:[=0x000A=][=0x0009=]remove the noun from play.[=0x000A=][=0x000A=]Report someone resolving a stamped envelope:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] slips [a noun] into the outgoing mail slot.[=0x0022=][=0x000A=][=0x000A=]Instead of someone resolving a stamped envelope when the person asked carries at least two stamped envelopes:[=0x000A=]if the person asked is visible, say [=0x0022=][The person asked] shoves into the mail slot [a list of stamped envelopes carried by the person asked].[=0x0022=];[=0x000A=][=0x0009=]repeat with item running through stamped envelopes carried by the person asked[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]remove item from play;[=0x000A=][=0x0009=]end repeat.[=0x000A=][=0x000A=][=0x000A=]A DVD is a kind of artwork.[=0x000A=][=0x000A=]Before someone resolving a DVD when the person asked is not in the Rental Store:[=0x000A=][=0x0009=]try the person asked approaching the Rental Store instead.[=0x000A=][=0x000A=]Carry out someone resolving a DVD:[=0x000A=][=0x0009=]now the noun is submitted;[=0x000A=][=0x0009=]move the noun to the Movie Rental Store.[=0x000A=][=0x000A=]Report someone resolving a DVD:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] returns [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of someone resolving a DVD when the person asked carries at least two DVDs:[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] turns in [a list of DVDs carried by the person asked].[=0x0022=];[=0x000A=][=0x0009=]now every DVD carried by the person asked is submitted;[=0x000A=][=0x0009=]now every DVD carried by the person asked is in the location of the person asked.[=0x000A=][=0x000A=]Before listing contents: group DVDs together.[=0x000A=][=0x000A=]Before grouping together DVDs: say [=0x0022=]DVDs of [=0x0022=].[=0x000A=][=0x000A=][=0x000A=]Approaching is an action applying to one thing.[=0x000A=][=0x000A=]Carry out someone approaching:[=0x000A=][=0x0009=]let the way be the best route from the location of the person asked to the noun, using doors;[=0x000A=][=0x0009=]if the way is a direction, try the person asked going the way;[=0x000A=][=0x0009=]otherwise stop the action.[=0x000A=][=0x000A=][=0x000A=]A coupon is a kind of thing.[=0x000A=][=0x000A=]Carry out someone resolving a coupon:[=0x000A=][=0x0009=]try the person asked giving the noun to Vanessa.[=0x000A=][=0x000A=]Procedural rule:[=0x000A=][=0x0009=]if the person asked is not the player, ignore the block giving rule.[=0x000A=][=0x000A=]Before someone resolving a coupon when the person asked is not in Cold Comfort:[=0x000A=][=0x0009=]try the person asked approaching Cold Comfort instead.[=0x000A=][=0x000A=]After someone giving a coupon to Vanessa:[=0x000A=][=0x0009=]let the reward be a random ice cream cone;[=0x000A=][=0x0009=]let the new flavor be a random infection color;[=0x000A=][=0x0009=]change the infection color of the reward to the new flavor;[=0x000A=][=0x0009=]move the reward to the person asked;[=0x000A=][=0x0009=]remove the noun from play;[=0x000A=][=0x0009=]if Vanessa is visible, say [=0x0022=][The person asked] trades in [the noun] and receives [a reward] from Vanessa.[=0x0022=][=0x000A=][=0x000A=]Infection color is a kind of value. The infection colors are french vanilla, whole-bean vanilla, mint, chocolate, dark chocolate, chocolate chip, chocolate fudge, mint chocolate chip, chocolate chocolate chip, triple chocolate, white chocolate, white chocolate chip, aztec cocoa-chili, raspberry ripple, neapolitan, rum raisin, dulce de leche, strawberry chunk, rocky road, blackberry sorbet, lemon sherbet, lime ice, caramel swirl, mango, saffron silk, and cookie dough cream.[=0x000A=][=0x000A=]To say list of flavors:[=0x000A=][=0x0009=]let current color be french vanilla;[=0x000A=][=0x0009=]while current color is not cookie dough cream[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][current color], [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]change current color to the infection color after the current color;[=0x000A=][=0x0009=]end while;[=0x000A=][=0x0009=]say [=0x0022=]and [current color][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]ask vanessa for [flavored ice cream][=0x0022=] as buying the flavor. Understand [=0x0022=]buy [flavored ice cream][=0x0022=] as buying the flavor.[=0x000A=][=0x000A=]Buying the flavor is an action applying to one infection color.[=0x000A=][=0x000A=]Check buying the flavor: if the player can see Vanessa, do nothing; otherwise say [=0x0022=]It would help if you were in the presence of an ice cream salesperson.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out buying the flavor: say [=0x0022=][=0x0027=]Do you have a coupon?[=0x0027=] Vanessa demands. You admit you do not. [=0x0027=]No [infection color understood] for you![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]ice cream[=0x0022=] or [=0x0022=]cream[=0x0022=] or [=0x0022=]ice[=0x0022=] or [=0x0022=]sherbet[=0x0022=] or [=0x0022=]sorbet[=0x0022=] as [=0x0022=][ice cream][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=][infection color][=0x0022=] or [=0x0022=][infection color] [ice cream][=0x0022=] as [=0x0022=][flavored ice cream][=0x0022=].[=0x000A=][=0x000A=]An ice cream cone is a kind of thing. An ice cream cone is always edible. An ice cream cone has an infection color. An ice cream cone can be half-eaten or fresh. Understand the infection color property as referring to an ice cream cone.[=0x000A=][=0x000A=]Carry out someone resolving an ice cream cone:[=0x000A=][=0x0009=]try the person asked eating the noun instead.[=0x000A=][=0x000A=]Instead of someone eating a fresh ice cream cone:[=0x000A=][=0x0009=]change the noun to half-eaten;[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] licks [the noun].[=0x0022=][=0x000A=][=0x000A=]Report someone eating an ice cream cone:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] pops the end of [the noun] into [if the person asked is female]her[otherwise]his[end if] mouth and swallows.[=0x0022=] instead.[=0x000A=][=0x000A=]Before printing the name of an ice cream cone:[=0x000A=][=0x0009=]say [=0x0022=][if half-eaten]half-eaten [end if][infection color] [=0x0022=].[=0x000A=][=0x000A=]Section 2 - Infection Rules[=0x000A=][=0x000A=]This is the infection rule:[=0x000A=][=0x0009=]if an infected person (called typhoid mary) can see a clean person (called random bystander) and a random chance of 1 in 3 succeeds[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]try typhoid mary sneezing on the random bystander;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]A person can be infected or clean. A person has an infection color.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if the player is infected, say [=0x0022=]You feel itchy.[=0x0022=][=0x000A=][=0x000A=]Definition: a person is other if it is not the player. Definition: a person is another if it is other.[=0x000A=][=0x000A=]When play begins: change right hand status line to [=0x0022=]Sick: [number of infected people]/[number of people][=0x0022=].[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if every person is infected, end the game saying [=0x0022=]Everyone succumbs[=0x0022=];[=0x000A=][=0x0009=]if every person is clean, end the game saying [=0x0022=]The Syndrome is eradicated[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]sneeze on [something][=0x0022=] as sneezing on. Sneezing on is an action applying to one thing.[=0x000A=][=0x000A=]Check sneezing on:[=0x000A=][=0x0009=]if the player is clean, say [=0x0022=]You[=0x0027=]re not sickly.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the player, say [=0x0022=]Ew.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is not a person, say [=0x0022=][The noun] cannot be infected.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out sneezing on:[=0x000A=][=0x0009=]now the noun is infected;[=0x000A=][=0x0009=]change the infection color of the noun to a random infection color.[=0x000A=][=0x000A=]Carry out someone sneezing on:[=0x000A=][=0x0009=]now the noun is infected;[=0x000A=][=0x0009=]change the infection color of the noun to a random infection color.[=0x000A=][=0x000A=]Report sneezing on:[=0x000A=][=0x0009=]say  [=0x0022=]Unable to control yourself, you sneeze on [noun].[=0x0022=];[=0x000A=][=0x000A=]Report someone sneezing on:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] sneezes on [if the noun is the player]you[otherwise][noun][end if]![=0x0022=];[=0x000A=][=0x000A=][=0x000A=]Understand [=0x0022=]inject [someone] with [something][=0x0022=] as injecting it with. Understand [=0x0022=]inject [someone] with [syringe][=0x0022=] as injecting it with. Understand [=0x0022=]use [syringe] on [someone][=0x0022=] as injecting it with. Understand the commands [=0x0022=]innoculate[=0x0022=] and [=0x0022=]vaccinate[=0x0022=] as [=0x0022=]inject[=0x0022=].[=0x000A=][=0x000A=]Injecting it with is an action applying to two things.[=0x000A=][=0x000A=]Check injecting it with:[=0x000A=][=0x0009=]if the second noun is not the syringe, say [=0x0022=][The second noun] cannot inject anything.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is clean[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if the noun is the player, say [=0x0022=]You[=0x0027=]re not infected yet.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] is not infected, and the syringe contains a cure, not a vaccine.[=0x0022=] instead;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Carry out injecting it with: now the noun is clean.[=0x000A=][=0x000A=]After injecting the player with something: say [=0x0022=]You inject yourself, wincing at the sting. But the itching fades almost at once.[=0x0022=][=0x000A=][=0x000A=]Report injecting it with: say [=0x0022=]You inject [the noun], who is now cured (but could easily be reinfected).[=0x0022=][=0x000A=][=0x000A=]Section 3 - Geography[=0x000A=][=0x000A=]To decide what direction is the way through (frame - a door):[=0x000A=][=0x0009=]let far side be the other side of frame;[=0x000A=][=0x0009=]let way be the best route from the location to the far side, using even locked doors;[=0x000A=][=0x0009=]if way is a direction, decide on the way;[=0x000A=][=0x0009=]decide on inside.[=0x000A=][=0x000A=]Include Locksmith by Emily Short.[=0x000A=][=0x000A=]Understand [=0x0022=]go to/toward/into [any room][=0x0022=] as going toward.  Understand [=0x0022=]enter [any room][=0x0022=] as going toward.[=0x000A=][=0x000A=]A person has a room called the destination.[=0x000A=][=0x000A=]Going toward is an action applying to one thing.[=0x000A=][=0x000A=]Check going toward:[=0x000A=][=0x0009=]if the noun is the location, say [=0x0022=]You[=0x0027=]re already in [the location].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out going toward:[=0x000A=][=0x0009=]change the destination of the player to the noun;[=0x000A=][=0x0009=]let heading be the best route from the location to the noun, using even locked doors;[=0x000A=][=0x0009=]if heading is not a direction, say [=0x0022=]You can[=0x0027=]t think how to get there from here.[=0x0022=] instead;[=0x000A=][=0x0009=]try going heading;[=0x000A=][=0x0009=]if the location is the destination of the player, change the destination of the player to blank.[=0x000A=][=0x000A=]Instead of waiting when the destination of the player is not blank:[=0x000A=][=0x0009=]if the destination of the player is the location[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]change the destination of the player to blank;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]try going toward destination of the player;[=0x000A=][=0x0009=][=0x0009=]if the location is the destination of the player, change the destination of the player to blank;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Understand [=0x0022=]stop[=0x0022=] or [=0x0022=]cease[=0x0022=] as stopping. Stopping is an action applying to nothing. Carry out stopping: change the destination of the player to blank. Report stopping: say [=0x0022=]You stop in your tracks.[=0x0022=][=0x000A=][=0x000A=]After going to an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]You step into the mercifully air-conditioned surroundings of...[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]After going from an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]You emerge from the air-conditioning into heat like a wall...[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Instead of listening to an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]The air-conditioning hums softly.[=0x0022=][=0x000A=][=0x000A=]The Alfred Cralle Pool Hall is a room. [=0x0022=]The town[=0x0027=]s most popular gathering-place, the pool hall is decorated in honor of the inventor of the ice cream scoop.[=0x0022=] The air conditioner is a device in the Pool Hall. [=0x0022=][if switched off]An air conditioner sits in the corner, unhappily inert[otherwise]The air conditioner hums briskly[end if].[=0x0022=][=0x000A=][=0x000A=]The felt door is west of the Pool Hall. The felt door is a door. The felt door is open. The felt door is lockable and unlocked. The key to the city unlocks the felt door. The description of the felt door is [=0x0022=]It has a prominent lock, designed for an old-fashioned key.[=0x0022=][=0x000A=][=0x000A=]After locking a door with something in the presence of an other person (called audience):[=0x000A=][=0x0009=]say [=0x0022=][The audience] looks a little non-plussed when you lock [the noun], but shrugs.[=0x0022=][=0x000A=][=0x000A=]Nancy Johnson Memorial Square is west of the felt door. The description of Nancy Johnson Memorial Square is [=0x0022=]Waves of August heat rise from the pavement: more than once you[=0x0027=]ve had the fancy that your shoes are simply going to stick. At the center of the square, rubbed to a brownish polish by many adoring hands, is the statue of Mrs. Nancy Johnson of New Jersey.[=0x0022=][=0x000A=][=0x000A=]The statue is scenery in Memorial Square. Understand [=0x0022=]nancy[=0x0022=] or [=0x0022=]johnson[=0x0022=] or [=0x0022=]mrs[=0x0022=] as the statue. The description of the statue is [=0x0022=]Mrs. Johnson is pictured with a hand-cranked ice cream freezer tucked under one arm. Her other hand grips an ice cream scoop, ready to serve frozen dessert to the huddled masses.[=0x0022=] A hand-cranked ice cream freezer is part of the statue. The description is [=0x0022=]The hand-cranked ice cream freezer was Mrs. Johnson[=0x0027=]s invention in 1846, though it was William Young who had the sense to patent the thing in 1848.[=0x0022=] The scoop is part of the statue. The description of the scoop is [=0x0022=]An anachronism: Alfred Cralle would not invent the tool until 1897.[=0x0022=][=0x000A=][=0x000A=]The Post Office is northwest of Nancy Johnson Memorial Square. [=0x0022=]Service at the post office is on the slow side since everything went automated.[=0x0022=] The slot is scenery in the post office. The slot is a container. Carry out inserting something into the slot: remove the noun from play. Report inserting something into the slot: say [=0x0022=][The noun] falls out of sight, and you know you will never see it again.[=0x0022=][=0x000A=][=0x000A=]Hamwi Street is northeast of an iron gate. [=0x0022=]A U-shaped street running from Main Street around to the Memorial Square, Hamwi Street was recently added by ambitious city planners. The small and straggly line of trees has yet to grow enough to provide perceptible shade, so the street is even hotter and more unforgiving than the other parts of town.[=0x0022=][=0x000A=][=0x000A=]The iron gate is northeast of Nancy Johnson Memorial Square. The iron gate is a door. It is lockable and unlocked.[=0x000A=][=0x000A=]Before printing the name of the iron gate while not opening or closing or locking or unlocking:[=0x000A=][=0x0009=]if the person asked is the player[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if the gate is open, say [=0x0022=]open [=0x0022=];[=0x000A=][=0x0009=]otherwise if the gate is locked;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]locked [=0x0022=];[=0x000A=][=0x0009=]otherwise if the gate is closed;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]closed [=0x0022=];[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Cold Comfort Ice Cream is north of a metal door. The metal door is north of Hamwi Street. A poster is fixed in place in Cold Comfort. [=0x0022=]A poster fills one wall with the blazing promise of treats to come.[=0x0022=] The description of the poster is [=0x0022=]Coming soon! Thai ice creams! Durian, jackfruit, taro, and coconut flavors![=0x0022=][=0x000A=][=0x000A=]The metal door is a door. [=0x0022=]A frosty metallic door separates [the location] from [the other side of the metal door].[=0x0022=] The metal door is lockable and unlocked. The key to the city unlocks the metal door.[=0x000A=][=0x000A=][=0x000A=]Marciony Street is southeast of Nancy Johnson Memorial Square. [=0x0022=]A semi-circular terrace, named somewhat fancifully after one claimant to the invention of the ice cream cone -- though Hamwi Street competes for the same honor. There are wedges of cool shadow here and there thanks to the buildings, but for the most part the southern exposure keeps Marciony unpleasantly hot.[=0x0022=][=0x000A=][=0x000A=]The Movie Rental Store is west of a glass door. The glass door is a door. It is west of Marciony Street.  The glass door is lockable and unlocked. The key to the city unlocks the glass door.[=0x000A=][=0x000A=]Main Street is southeast of Hamwi Street. Main Street is northeast of some bronze gates.[=0x000A=][=0x000A=]The emergency box is in Main Street. The emergency box is fixed in place. [=0x0022=]A fire-red box with a glass front faces the sidewalk, with [=0x0027=]In case of emergency, BREAK GLASS[=0x0027=] lettered on it.[=0x0022=] The emergency box is closed and transparent. Understand [=0x0022=]glass[=0x0022=] as the box. Instead of attacking the closed emergency box: say [=0x0022=]You hit the emergency box, which shatters open.[=0x0022=]; change the emergency box to open. Instead of attacking the open emergency box: say [=0x0022=]The glass has already been thoroughly broken.[=0x0022=][=0x000A=][=0x000A=]The syringe is in the emergency box. The description of the syringe is [=0x0022=]It contains the cure for Gelato[=0x0027=]s Syndrome. You can inject anyone you like with it.[=0x0022=][=0x000A=][=0x000A=]The bronze gates are northeast of Marciony Street. The bronze gates are a door. The bronze gates are lockable and unlocked.  The description of the bronze gates is [=0x0022=]Erected during the milk-taint revolution of 1937, they were designed to keep Main Street safe from the depredations of dairy-starved rioters.[=0x0022=][=0x000A=][=0x000A=]The Public Library is east of Main Street. [=0x0022=]Built in the 1920s during the height of the dairy boom, the public library has lush pink velvet seats, marble walls the color of fresh cream, and a motif of cherries carved around every doorframe. An incongruous sign hangs from the ceiling.[=0x0022=] The incongruous sign is scenery in the Public Library. The description of the incongruous sign is [=0x0022=]Eating and drinking in the library is STRICTLY PROHIBITED.[=0x0022=][=0x000A=][=0x000A=]Town Hall is southeast of Main Street. [=0x0022=]Town Hall was built during the slow days of the ice-cream bust, and therefore it is as joyless and utilitarian as the Public Library is ridiculous. Unwilling to be reminded of their pain, the inhabitants steered clear of any decoration that might remotely be construed to resemble a scoop of anything: so there are no curves, only disciplined right angles.[=0x0022=] The key to the city is in Town Hall. It unlocks the iron gate. It unlocks the bronze gates.  The description of the key to the city is [=0x0022=]A skeleton key.[=0x0022=][=0x000A=][=0x000A=]A room can be indoors or outdoors. The Post Office, the Alfred Cralle Pool Hall, the Store, Cold Comfort, Town Hall, and the Library are indoors.[=0x000A=][=0x000A=]Use full-length room descriptions.[=0x000A=][=0x000A=]After looking in an outdoors room:[=0x000A=][=0x0009=]let started printing be false;[=0x000A=][=0x0009=]if an indoors room is adjacent[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let started printing be true;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]From here you can head into [the list of adjacent indoors rooms][if a door is unmentioned], or go through [the list of visible unmentioned doors]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=]end if;[=0x000A=][=0x0009=]if an outdoors room is adjacent[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You could[if started printing is true] also[end if] go [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let count be the number of adjacent outdoors rooms;[=0x000A=][=0x0009=][=0x0009=]let index be count;[=0x000A=][=0x0009=][=0x0009=]repeat with next room running through adjacent outdoors rooms[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let way be the best route from the location to the next room;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][way] to [the next room][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]decrease index by 1;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]make delimiter index of count;[=0x000A=][=0x0009=][=0x0009=]end repeat;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]if started printing is true, say paragraph break;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Before exiting when the player is in an indoors room:[=0x000A=][=0x0009=]if the player can see a door (called nearest exit), try entering the nearest exit instead;[=0x000A=][=0x0009=]repeat with way running through directions[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let next room be the room way from the location;[=0x000A=][=0x0009=][=0x0009=]if the next room is a room, try going way instead;[=0x000A=][=0x0009=]end repeat.[=0x000A=][=0x000A=]Blank is a room. The destination of the player is Blank. Blank contains 15 ice cream cones.[=0x000A=][=0x000A=][=0x000A=]Section 4 - Other Players[=0x000A=][=0x000A=]Vanessa is a woman in Cold Comfort. Vanessa owns Cold Comfort.[=0x000A=][=0x000A=]Francine is a woman in the Public Library. Francine carries a book called Phlox for Phyllis. Francine carries a stamped envelope called a pink stamped envelope.[=0x000A=][=0x000A=]Lewis is a man in the Alfred Cralle Pool Hall. Lewis carries 3 stamped envelopes. Lewis carries a book called Idiot[=0x0027=]s Guide to Dating. Lewis carries a book called How to Meet Women. Lewis carries a book called Seduction in Three Easy Steps. Lewis carries a DVD called Sleepless in Seattle.[=0x000A=][=0x000A=]Gene is a man in Nancy Johnson Memorial Square. Gene carries a stamped envelope. Gene carries a DVD called Casablanca. Gene carries a coupon.[=0x000A=][=0x000A=]Rhoda is a woman in Marciony Street. Rhoda carries a book called The Marciony Street Murders. Rhoda carries a DVD called Unsolved Serial Killings XVIII. Rhoda carries a stamped envelope called a squashy package.[=0x000A=][=0x000A=]Martin is a man in Main Street. Martin carries a DVD called The Lifecycle of the South Sea Tortoise. Martin carries a coupon.[=0x000A=][=0x000A=]Antony is a man in Movie Rental. Antony carries a coupon. Antony carries a stamped envelope called a postcard.[=0x000A=][=0x000A=]Shelby is a man in the Town Hall. Shelby carries a DVD called  Conducting An Orderly Meeting. Shelby carries 5 stamped envelopes. Shelby carries an ice cream cone. Shelby carries a coupon.[=0x000A=][=0x000A=]Christopher is a man in the Library. Christopher owns the Library.[=0x000A=][=0x000A=]Linnea is a woman in the Alfred Cralle Pool Hall. Linnea owns the Alfred Cralle Pool Hall.[=0x000A=][=0x000A=]Ned is a man in the Movie Rental Store. Ned owns the Movie Rental.[=0x000A=][=0x000A=]After printing the name of someone (called target) while listing contents: if the target owns the location of the target, say [=0x0022=] (the owner)[=0x0022=].[=0x000A=][=0x000A=]The description of a person is usually [=0x0022=][The noun] [if the noun is clean]looks healthy[otherwise]is the color of [infection color of the noun][end if].[=0x0022=][=0x000A=][=0x000A=]After examining another person who is carrying something: say [=0x0022=][if the noun is female]She[otherwise]He[end if] is carrying [a list of things carried by the noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: let Patient Zero be a random other person; now patient zero is infected.[=0x000A=][=0x000A=][This is a light variation of a previous example, but we use it here because it is convenient:][=0x000A=][=0x000A=]Section 5 - Conversation[=0x000A=][=0x000A=]A person has a table-name called conversation.[=0x000A=][=0x000A=]Instead of asking someone about something:[=0x000A=][=0x0009=]let the source be the conversation of the noun;[=0x000A=][=0x0009=]if topic understood is a topic listed in source[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if there is a turn stamp entry[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You have already heard that [summary entry].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]change turn stamp entry to the turn count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]change the character entry to the noun;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] stares at you blankly.[=0x0022=];[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Instead of telling someone about something:[=0x000A=][=0x0009=]try asking the noun about it.[=0x000A=][=0x000A=]Understand [=0x0022=]recap[=0x0022=] or [=0x0022=]recall[=0x0022=] or [=0x0022=]review[=0x0022=] as recalling conversations.[=0x000A=][=0x000A=]Recalling conversations is an action applying to nothing.[=0x000A=][=0x000A=]Carry out recalling conversations:[=0x000A=][=0x0009=]repeat with speaker running through other people[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let source be the conversation of the speaker;[=0x000A=][=0x0009=][=0x0009=]sort source in turn stamp order;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The speaker] has so far told you: [line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let index be 0;[=0x000A=][=0x0009=][=0x0009=]repeat through source[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if there is a turn stamp entry and the speaker is character entry[=0x000A=][=0x0009=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]let index be 1;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]  [summary entry][line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=]end repeat;[=0x000A=][=0x0009=][=0x0009=]if index is 0, say [=0x0022=]  absolutely nothing[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say line break;[=0x000A=][=0x0009=]end repeat.[=0x000A=][=0x000A=]The conversation of a person is usually Table of General ChitChat.[=0x000A=][=0x000A=]Table of General ChitChat[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x0009=]character[=0x000A=][=0x0022=]weather/heat/warmth[=0x0022=][=0x0009=][=0x0022=][=0x0027=]It[=0x0027=]s appalling, isn[=0x0027=]t it? You[=0x0027=]d think we didn[=0x0027=]t pay our taxes.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather is appalling[=0x0022=][=0x0009=]a number[=0x0009=]a person[=0x000A=][=0x0022=]sun/sunlight[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Good thing the town mostly switched to solar power, har, har.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the town is mostly relying on solar power[=0x0022=][=0x000A=][=0x0022=]rain[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Nope, there isn[=0x0027=]t going to be rain for 132 days,[=0x0027=] replies [the noun].[=0x0022=][=0x0009=][=0x0022=]that rain is not expected for another 132 days[=0x0022=][=0x000A=][=0x0022=]snow/hail/ice[=0x0022=][=0x0009=][=0x0022=]This hilarious sally is greeted with hoots of laughter only.[=0x0022=][=0x0009=][=0x0022=]that the concept of snow is downright laughable[=0x0022=][=0x000A=][=0x0022=]disease/sickness/illness/syndrome[=0x0022=][=0x0009=][=0x0022=]You get a cold, fixed stare in response. [=0x0027=]That[=0x0027=]s not funny,[=0x0027=] [the noun] replies finally.[=0x0022=][=0x0009=][=0x0022=]that discussing the disease is more or less taboo[=0x0022=][=0x000A=][=0x0022=]cold comfort[=0x0022=][=0x0009=][=0x0022=][=0x0027=]If you haven[=0x0027=]t tried it, you should,[=0x0027=] says [the noun]. [=0x0027=]Best ice cream in town, and that[=0x0027=]s saying something, you bet.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that Cold Comfort has the best ice cream in town[=0x0022=][=0x000A=][=0x0022=]town/city/village[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Yeah, it[=0x0027=]s a mite odd,[=0x0027=] allows [the noun]. [=0x0027=]Not to everyone[=0x0027=]s taste, like...[=0x0027=] [the noun as pronoun] considers for a moment. [=0x0027=]Like ginger ice cream. Big pieces of crystallized ginger... not everyone likes that.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the town is a mite odd[=0x0022=][=0x000A=][=0x0022=]forecast/weatherman[=0x0022=] or [=0x0022=]weather forecast/man[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, the weather man[=0x0027=]s gotten a lot more reliable since the gummint started making it for us,[=0x0027=] says [the noun]. [=0x0027=]Now he just reads off the schedule on the air every morning. Pretty much takes the fun right out of the news, if you ask me.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather is all generated by schedule[=0x0022=][=0x000A=][=0x0022=]taxes/tax[=0x0022=] or [=0x0022=]weather tax[=0x0022=][=0x0009=][=0x0022=]A snort. [=0x0027=]You[=0x0027=]d think for the rates we pay we[=0x0027=]d get something a little pleasanter, don[=0x0027=]t you?[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather tax really ought to be paying for something nicer than what you get[=0x0022=][=0x000A=][=0x0022=]job/employment/work[=0x0022=][=0x0009=][=0x0022=][=0x0027=][if the noun owns a room (called the shop)]I own [the shop],[=0x0027=] replies [the noun][otherwise]Work at the creamery, like most folk around here,[=0x0027=] answers [the noun].[=0x0022=][=0x0009=][=0x0022=]this and that about employment in town[=0x0022=][=0x000A=][=0x0022=]book/books/reading[=0x0022=][=0x0009=][=0x0022=][=0x0027=]The Public Library has a good selection, excepting only the cookbook section,[=0x0027=] says [the noun]. [=0x0027=]That got censored way back when-- well, way back.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the Public Library has a good collection, except for the cookbook section[=0x0022=][=0x000A=][=0x000A=]The conversation of Vanessa is the Table of Vanessa Chatter.[=0x000A=][=0x000A=]Table of Vanessa Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x0009=]character[=0x000A=][=0x0022=]ice cream[=0x0022=] or [=0x0022=]sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices[=0x0022=][=0x0009=][=0x0022=][=0x0027=]The flavors are [list of flavors],[=0x0027=] she responds promptly, without needing to draw breath.[=0x0022=][=0x0009=][=0x0022=]that the flavors are [list of flavors][=0x0022=][=0x0009=]a number[=0x0009=]a person[=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]while player[=0x0027=]s command includes [=0x0022=]the[=0x0022=], cut the matched text.[=0x000A=][=0x000A=][This strips [=0x0027=]the[=0x0027=] out of the command, so that ASK PERSON ABOUT THE RAIN will be understood as well as ASK PERSON ABOUT RAIN.][=0x000A=][=0x000A=][Now we try something a bit unusual. Inform on its own will report each action on its own line, so that each character who walks into or out of a room will be described in a separate paragraph. This is usually fine, but in a game with a lot of characters moving around simultaneously, it can become a bit overwhelming. Instead, we may want to condense these reports into a single line, such as [=0x0022=]Ben and Jerry enter from the south[=0x0022=]. The following accomplishes that goal by replacing some of the reporting rules, storing the information in a table, and then reading the table back later, once all the character movement has been resolved and the reports can usefully be collated:][=0x000A=][=0x000A=]Section 6 - Movement Description[=0x000A=][=0x000A=]A person has some text called walk style. The walk style of a man is usually [=0x0022=]stride[=0x0022=]. The walk style of a woman is usually [=0x0022=]strut[=0x0022=]. The walk style of Gene is [=0x0022=][one of]wander[or]stroll[purely at random][=0x0022=]. The walk style of Francine is [=0x0022=]waddle[=0x0022=]. The walk style of Antony is [=0x0022=]scamper[=0x0022=]. The walk style of Rhoda is [=0x0022=]sashay[=0x0022=].[=0x000A=][=0x000A=]Table of Visible Exits[=0x000A=]character[=0x0009=]second[=0x0009=]third[=0x0009=]heading chosen[=0x0009=]total[=0x000A=]a person[=0x0009=]a person[=0x0009=]a person[=0x0009=]a direction[=0x0009=]a number[=0x000A=]with 10 blank rows.[=0x000A=][=0x000A=]Table of Visible Entrances[=0x000A=]character[=0x0009=]second[=0x0009=]third[=0x0009=]heading chosen[=0x0009=]total[=0x000A=]a person[=0x0009=]a person[=0x0009=]a person[=0x0009=]a direction[=0x0009=]a number[=0x000A=]with 10 blank rows.[=0x000A=][=0x000A=]To clear (current table - a table-name):[=0x000A=][=0x0009=]repeat through current table[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]blank out the whole row;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x000A=]To tidy departures of (current table - a table-name):[=0x000A=][=0x0009=]let next direction be up;[=0x000A=][=0x0009=]repeat through current table[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if heading chosen entry is next direction[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let accomplice be character entry;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]choose row with heading chosen of next direction in the current table;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if total entry is 1[=0x000A=][=0x0009=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]change second entry to accomplice;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]change total entry to 2;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if total entry is 2[=0x000A=][=0x0009=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]if second entry is accomplice[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]do nothing;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]change third entry to accomplice;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]change total entry to 3;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]choose row with character of accomplice in the current table;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]blank out the whole row;[=0x000A=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let next direction be heading chosen entry;[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=]end repeat.[=0x000A=][=0x000A=]A door has a person called last opener.[=0x000A=][=0x000A=]Report someone opening a door:[=0x000A=][=0x0009=]change group size to 1;[=0x000A=][=0x0009=]change the last opener of the noun to the person asked;[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] opens [the noun]. [run paragraph on][=0x0022=] instead;[=0x000A=][=0x0009=]otherwise say [=0x0022=][The noun] opens from the other side. [run paragraph on][=0x0022=] instead.[=0x000A=][=0x000A=]Report someone going through a door (called route):[=0x000A=][=0x0009=]if the person asked is not the last opener of the route, continue the action;[=0x000A=][=0x0009=]if the person asked is the last person named, say [=0x0022=][The person asked as pronoun][=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=][The person asked][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=] [if the person asked is in the location]comes[otherwise]goes[end if] through[if the last thing named is not the route] [the route][end if].[=0x0022=] instead.[=0x000A=][=0x000A=]The last thing named is a thing that varies. Before printing the name of something (called target) which is not a person: change the last thing named to the target.[=0x000A=][=0x000A=]Report someone going a direction:[=0x000A=][=0x0009=]if the person asked is in the location,[=0x000A=][=0x0009=][=0x0009=]choose a blank row in the table of visible entrances;[=0x000A=][=0x0009=]otherwise choose a blank row in the table of visible exits;[=0x000A=][=0x0009=]change character entry to the person asked;[=0x000A=][=0x0009=]change total entry to 1;[=0x000A=][=0x0009=]if the person asked is in the location,[=0x000A=][=0x0009=][=0x0009=]change heading chosen entry to the opposite of the noun;[=0x000A=][=0x0009=]otherwise change heading chosen entry to the noun;[=0x000A=][=0x0009=]stop the action.[=0x000A=][=0x000A=]This is the movement reporting rule:[=0x000A=][=0x0009=]sort the Table of Visible Entrances in heading chosen order;[=0x000A=][=0x0009=]tidy departures of the table of visible entrances;[=0x000A=][=0x0009=]sort the Table of Visible exits in heading chosen order;[=0x000A=][=0x0009=]tidy departures of the table of visible exits;[=0x000A=][=0x0009=]let total row count be the number of filled rows in the Table of Visible Entrances plus the number of filled rows in the Table of Visible Exits;[=0x000A=][=0x0009=]if total row count is 0, rule succeeds;[=0x000A=][=0x0009=]generate descriptions from the Table of Visible Entrances;[=0x000A=][=0x0009=]generate descriptions from the Table of Visible Exits;[=0x000A=][=0x0009=]clear the Table of Visible Entrances; clear the Table of Visible Exits.[=0x000A=][=0x000A=]To generate descriptions from (current table - a table-name):[=0x000A=][=0x0009=]let count be the number of filled rows in the current table;[=0x000A=][=0x0009=]if count is 0, rule succeeds;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat through the current table[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let accomplice be character entry;[=0x000A=][=0x0009=][=0x0009=]if character entry is a person, change character entry to marked for listing;[=0x000A=][=0x0009=][=0x0009=]if there is a second entry and second entry is a person, change second entry to marked for listing;[=0x000A=][=0x0009=][=0x0009=]if there is a third entry and third entry is a person, change third entry to marked for listing;[=0x000A=][=0x0009=][=0x0009=]let target be the room the heading chosen entry from the location;[=0x000A=][=0x0009=][=0x0009=]if total entry is 3, say [=0x0022=][The character entry], [the second entry][optional comma] and [the third entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if total entry is 2, say [=0x0022=][The character entry] and [the second entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if total entry is 1[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the character entry is the last person named, say [=0x0022=][The character entry as pronoun] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise say [=0x0022=][The character entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=]if total entry is 1, say [=0x0022=][walk style of the character entry]s [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]walk[if total entry is 1]s[end if] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if the character entry is in the location[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is indoors, say [=0x0022=]over from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is indoors, say [=0x0022=]out of [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is outdoors, say [=0x0022=]in from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is outdoors, say [=0x0022=]over from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is indoors, say [=0x0022=]over to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is indoors, say [=0x0022=]into [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is outdoors, say [=0x0022=]out [if a door is visible][the random visible door][end if] to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is outdoors, say [=0x0022=]over to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=]if target is outdoors, say [=0x0022=][the heading chosen entry][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][the target][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if the total entry is 1 and count is 1 and accomplice carries something, say [=0x0022=], carrying [a list of things carried by the accomplice][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrease index by 1;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count, continuing;[=0x000A=][=0x0009=][=0x0009=]change group size to total entry;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x0009=]if a marked for listing person is infected[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][eliminate the case in which we have already seen this description because we just typed LOOK and the patient was in the room at the time][=0x000A=][=0x0009=][=0x0009=]if looking and a marked for listing person is not in the location[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]describe patients;[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]The last person named is a person that varies. Before printing the name of a person (called target): change the last person named to the target. Group size is a number that varies. Group size is 1.[=0x000A=][=0x000A=]To clear marked people:[=0x000A=][=0x0009=]repeat with named party running through people[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]change the named party to not marked for listing;[=0x000A=][=0x0009=]end repeat.[=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]if the number of people who are marked for listing is 0, make no decision;[=0x000A=][=0x0009=]say [=0x0022=]You can see [a list of people who are marked for listing] here. [=0x0022=];[=0x000A=][=0x0009=]change group size to the number of people who are marked for listing;[=0x000A=][=0x0009=]describe patients.[=0x000A=][=0x000A=]To describe patients:[=0x000A=][=0x0009=]if every marked for listing person is infected and at least three people are marked for listing[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]They are all sick as dogs, every one.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]if the number of people who are marked for listing is greater than two and the number of infected people who are marked for listing is greater than the number of clean people who are marked for listing[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]Only [the list of clean people who are marked for listing] currently remain[if the number of clean people who are marked for listing is 1]s[end if] untainted.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=]end if;[=0x000A=][=0x0009=]let count be the number of marked for listing other people who are infected;[=0x000A=][=0x0009=]if count is 0[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]say paragraph break; make no decision;[=0x000A=][=0x0009=]end if;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat with patient running through marked for listing other people who are infected[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if index is count[=0x000A=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if count is 1 and the patient is the last person named[=0x000A=][=0x0009=][=0x0009=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The patient as pronoun][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][the patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end if;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] [looks as though dipped in for index] [infection color of the patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrease index by 1;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x0009=]clear marked people.[=0x000A=][=0x000A=]To say (named character - a man) as pronoun:[=0x000A=][=0x0009=]if group size is 1, say [=0x0022=]He[=0x0022=]; if group size is 2, say [=0x0022=]The latter[=0x0022=]; if group size is greater than 2, say [=0x0022=]The last[=0x0022=].[=0x000A=][=0x000A=]To say (named character - a woman) as pronoun: if group size is 1, say [=0x0022=]She[=0x0022=]; if group size is 2, say [=0x0022=]The latter[=0x0022=]; if group size is greater than 2, say [=0x0022=]The last[=0x0022=].[=0x000A=][=0x000A=]To say looks as though dipped in for (index - a number):[=0x000A=][=0x0009=]let divider be the number of filled rows in the Table of Dipping Phrases;[=0x000A=][=0x0009=]if index is greater than 4, let index be the remainder after dividing index by divider;[=0x000A=][=0x0009=]choose row index in the Table of Dipping Phrases;[=0x000A=][=0x0009=]say dipping entry.[=0x000A=][=0x000A=]Table of Dipping Phrases[=0x000A=]dipping[=0x000A=][=0x0022=]looks as though dipped in[=0x0022=][=0x000A=][=0x0022=]could have been rolling in[=0x0022=][=0x000A=][=0x0022=]has a bad case of[=0x0022=][=0x000A=][=0x0022=]suffers from[=0x0022=][=0x000A=][=0x0022=]contracted a virulent[=0x0022=][=0x000A=][=0x000A=]A door is usually scenery.[=0x000A=][=0x000A=][The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work; feel free to skip down to the scenario if you prefer.][=0x000A=][=0x000A=]To make delimiter (index - a number) of (count - a number), continuing or halting:[=0x000A=][=0x0009=]if index is 0[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]if continuing, say [=0x0022=]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=].[=0x0022=];[=0x000A=][=0x0009=]otherwise if index is 1;[=0x000A=][=0x0009=][=0x0009=]if count is 2, say [=0x0022=] and [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][optional comma] and [=0x0022=];[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=], [=0x0022=];[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]To say optional comma:[=0x000A=][=0x0009=]if using the serial comma option, say [=0x0022=],[=0x0022=];[=0x000A=][=0x0009=]otherwise do nothing.[=0x000A=][=0x000A=]Test me with [=0x0022=]go to cold comfort / z / z / z / z / ask vanessa for french vanilla / ask vanessa for chocolate / ask vanessa about flavors / ask vanessa for chocolate chocolate chip[=0x0022=].[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode851()"><img border=0 src=../doc_images/paste.png></a> &quot;Patient Zero&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Use the serial comma and no scoring.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;about&quot; as asking for information. Asking for information is an action out of world.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out asking for information: say &quot;An implementation of the following creative brief:
</font></blockquote><p>
<p>
<blockquote><font color="#000080">People wander around some small map, on errands. One, sad to tell, has Gelato's Syndrome, a tragic condition turning one's skin the colour of a random flavour of ice cream (raspberry ripple, neapolitan, etc.). When two people are in the same room, there's a 1/3 chance that an infected person will infect a non-infected one. The player can cure any single person: victory condition - to stamp out the disease.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Gelato's Syndrome. It's struck, and it's struck hard. In these sticky summer months, there's no telling who will contract the disease next.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the command prompt to &quot;[if the destination of the player is not blank](heading to [destination of the player]) [end if]>&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 1 - Errands
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The current actor is a person which varies. The current owner is a person which varies.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if player is active, follow the character movement rules.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last person named to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last thing named to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every person is active.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person can be active or passive. The player is passive.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The character movement rules are a rulebook.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The first character movement rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change group size to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last person named to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last thing named to the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the player is passive.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A character movement rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with mover running through innocent people
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the current actor to the mover;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consider the shopper rules;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the current actor is passive;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;consider the movement reporting rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A character movement rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with next mover running through mercantile people
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the current owner to the next mover;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consider the shopowner rules;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now the current owner is passive;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;consider the infection rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide whether movement has not yet occurred:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player is passive, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;yes.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a person is mercantile if it owns a room. Definition: a person is innocent if it is not mercantile and it is not the player.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The shopowner rules is a rulebook.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A shopowner rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the shop be a random room owned by the current owner;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the shop is air-conditioned and an open door (called the escape) protects the shop, try the current owner closing the escape instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone closing a door when the person asked owns the location:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked], muttering darkly about air-conditioning and electricity, closes [the noun].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report Vanessa closing the metal door when the metal door is visible:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Vanessa is visible, say &quot;Vanessa watches serenely as the metal door slides automatically back in place, sealing Cold Comfort.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;The metal door slides heavily back into place.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A shopowner rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the location of the current owner encloses a submitted artwork (called the target)
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try the current owner filing the target;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Filing is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before someone filing something which is not carried by the person asked:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked taking the noun instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone filing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked does not carry the noun and the person asked is visible, say &quot;[The person asked] tries unsuccessfully to get [the noun].&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;remove the noun from play.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone filing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] registers [the noun] and files it away.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The shopper rules is a rulebook.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A shopper rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the current actor carries something (called the problem), try the current actor resolving the problem instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A shopper rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the current actor is not in the pool hall and the air conditioner is switched on
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try the current actor approaching the pool hall;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let way be a random direction;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try the current actor going the way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Definition: a room is air-conditioned:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is outdoors, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is the Pool Hall and the air conditioner is switched off, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is protected by a door, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;no.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Protection relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to protect (it protects, they protect, it protected, it is protected) implies the protection relation.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Ownership relates one person to various rooms. The verb to own (he owns, they own, he owned, it is owned) implies the ownership relation.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Resolving is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">An artwork is a kind of thing. Before printing the name of an artwork, say italic type. After printing the name of an artwork, say roman type. An artwork can be submitted or reserved.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A book is a kind of artwork.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before someone resolving a book when the person asked is not in the Public Library:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked approaching the Public Library instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone resolving a book:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the noun to the Public Library;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is submitted.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone resolving a book:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] turns in [the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before listing contents: group books together.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before grouping together books: say &quot;books entitled &quot;.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">A stamped envelope is a kind of thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before someone resolving a stamped envelope when the person asked is not in the Post Office:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked approaching the Post Office instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone resolving a stamped envelope:
<br>&nbsp;&nbsp;&nbsp;&nbsp;remove the noun from play.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone resolving a stamped envelope:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] slips [a noun] into the outgoing mail slot.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of someone resolving a stamped envelope when the person asked carries at least two stamped envelopes:
<br>if the person asked is visible, say &quot;[The person asked] shoves into the mail slot [a list of stamped envelopes carried by the person asked].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through stamped envelopes carried by the person asked
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove item from play;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">A DVD is a kind of artwork.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before someone resolving a DVD when the person asked is not in the Rental Store:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked approaching the Rental Store instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone resolving a DVD:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is submitted;
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the noun to the Movie Rental Store.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone resolving a DVD:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] returns [the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of someone resolving a DVD when the person asked carries at least two DVDs:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is visible, say &quot;[The person asked] turns in [a list of DVDs carried by the person asked].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every DVD carried by the person asked is submitted;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every DVD carried by the person asked is in the location of the person asked.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before listing contents: group DVDs together.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before grouping together DVDs: say &quot;DVDs of &quot;.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Approaching is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone approaching:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the way be the best route from the location of the person asked to the noun, using doors;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the way is a direction, try the person asked going the way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise stop the action.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">A coupon is a kind of thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone resolving a coupon:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked giving the noun to Vanessa.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Procedural rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is not the player, ignore the block giving rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before someone resolving a coupon when the person asked is not in Cold Comfort:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked approaching Cold Comfort instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After someone giving a coupon to Vanessa:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the reward be a random ice cream cone;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the new flavor be a random infection color;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the infection color of the reward to the new flavor;
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the reward to the person asked;
<br>&nbsp;&nbsp;&nbsp;&nbsp;remove the noun from play;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Vanessa is visible, say &quot;[The person asked] trades in [the noun] and receives [a reward] from Vanessa.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Infection color is a kind of value. The infection colors are french vanilla, whole-bean vanilla, mint, chocolate, dark chocolate, chocolate chip, chocolate fudge, mint chocolate chip, chocolate chocolate chip, triple chocolate, white chocolate, white chocolate chip, aztec cocoa-chili, raspberry ripple, neapolitan, rum raisin, dulce de leche, strawberry chunk, rocky road, blackberry sorbet, lemon sherbet, lime ice, caramel swirl, mango, saffron silk, and cookie dough cream.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say list of flavors:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let current color be french vanilla;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while current color is not cookie dough cream
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[current color], &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change current color to the infection color after the current color;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end while;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;and [current color]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;ask vanessa for [flavored ice cream]&quot; as buying the flavor. Understand &quot;buy [flavored ice cream]&quot; as buying the flavor.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Buying the flavor is an action applying to one infection color.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check buying the flavor: if the player can see Vanessa, do nothing; otherwise say &quot;It would help if you were in the presence of an ice cream salesperson.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out buying the flavor: say &quot;'Do you have a coupon?' Vanessa demands. You admit you do not. 'No [infection color understood] for you!'&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;ice cream&quot; or &quot;cream&quot; or &quot;ice&quot; or &quot;sherbet&quot; or &quot;sorbet&quot; as &quot;[ice cream]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;[infection color]&quot; or &quot;[infection color] [ice cream]&quot; as &quot;[flavored ice cream]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">An ice cream cone is a kind of thing. An ice cream cone is always edible. An ice cream cone has an infection color. An ice cream cone can be half-eaten or fresh. Understand the infection color property as referring to an ice cream cone.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone resolving an ice cream cone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try the person asked eating the noun instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of someone eating a fresh ice cream cone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the noun to half-eaten;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is visible, say &quot;[The person asked] licks [the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone eating an ice cream cone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] pops the end of [the noun] into [if the person asked is female]her[otherwise]his[end if] mouth and swallows.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing the name of an ice cream cone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[if half-eaten]half-eaten [end if][infection color] &quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 2 - Infection Rules
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the infection rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if an infected person (called typhoid mary) can see a clean person (called random bystander) and a random chance of 1 in 3 succeeds
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try typhoid mary sneezing on the random bystander;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person can be infected or clean. A person has an infection color.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player is infected, say &quot;You feel itchy.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a person is other if it is not the player. Definition: a person is another if it is other.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins: change right hand status line to &quot;Sick: [number of infected people]/[number of people]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if every person is infected, end the game saying &quot;Everyone succumbs&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if every person is clean, end the game saying &quot;The Syndrome is eradicated&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;sneeze on [something]&quot; as sneezing on. Sneezing on is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check sneezing on:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player is clean, say &quot;You're not sickly.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun is the player, say &quot;Ew.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun is not a person, say &quot;[The noun] cannot be infected.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out sneezing on:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is infected;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the infection color of the noun to a random infection color.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out someone sneezing on:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is infected;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the infection color of the noun to a random infection color.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report sneezing on:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say  &quot;Unable to control yourself, you sneeze on [noun].&quot;;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone sneezing on:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The person asked] sneezes on [if the noun is the player]you[otherwise][noun][end if]!&quot;;
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Understand &quot;inject [someone] with [something]&quot; as injecting it with. Understand &quot;inject [someone] with [syringe]&quot; as injecting it with. Understand &quot;use [syringe] on [someone]&quot; as injecting it with. Understand the commands &quot;innoculate&quot; and &quot;vaccinate&quot; as &quot;inject&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Injecting it with is an action applying to two things.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check injecting it with:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the second noun is not the syringe, say &quot;[The second noun] cannot inject anything.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun is clean
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the noun is the player, say &quot;You're not infected yet.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The noun] is not infected, and the syringe contains a cure, not a vaccine.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out injecting it with: now the noun is clean.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After injecting the player with something: say &quot;You inject yourself, wincing at the sting. But the itching fades almost at once.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report injecting it with: say &quot;You inject [the noun], who is now cured (but could easily be reinfected).&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 3 - Geography
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide what direction is the way through (frame - a door):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let far side be the other side of frame;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let way be the best route from the location to the far side, using even locked doors;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if way is a direction, decide on the way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on inside.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Include Locksmith by Emily Short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;go to/toward/into [any room]&quot; as going toward.  Understand &quot;enter [any room]&quot; as going toward.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person has a room called the destination.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Going toward is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check going toward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun is the location, say &quot;You're already in [the location].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out going toward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the destination of the player to the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let heading be the best route from the location to the noun, using even locked doors;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if heading is not a direction, say &quot;You can't think how to get there from here.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;try going heading;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the location is the destination of the player, change the destination of the player to blank.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of waiting when the destination of the player is not blank:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the destination of the player is the location
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the destination of the player to blank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try going toward destination of the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the location is the destination of the player, change the destination of the player to blank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;stop&quot; or &quot;cease&quot; as stopping. Stopping is an action applying to nothing. Carry out stopping: change the destination of the player to blank. Report stopping: say &quot;You stop in your tracks.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After going to an air-conditioned room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You step into the mercifully air-conditioned surroundings of...&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;continue the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After going from an air-conditioned room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You emerge from the air-conditioning into heat like a wall...&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;continue the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of listening to an air-conditioned room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The air-conditioning hums softly.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Alfred Cralle Pool Hall is a room. &quot;The town's most popular gathering-place, the pool hall is decorated in honor of the inventor of the ice cream scoop.&quot; The air conditioner is a device in the Pool Hall. &quot;[if switched off]An air conditioner sits in the corner, unhappily inert[otherwise]The air conditioner hums briskly[end if].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The felt door is west of the Pool Hall. The felt door is a door. The felt door is open. The felt door is lockable and unlocked. The key to the city unlocks the felt door. The description of the felt door is &quot;It has a prominent lock, designed for an old-fashioned key.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After locking a door with something in the presence of an other person (called audience):
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The audience] looks a little non-plussed when you lock [the noun], but shrugs.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Nancy Johnson Memorial Square is west of the felt door. The description of Nancy Johnson Memorial Square is &quot;Waves of August heat rise from the pavement: more than once you've had the fancy that your shoes are simply going to stick. At the center of the square, rubbed to a brownish polish by many adoring hands, is the statue of Mrs. Nancy Johnson of New Jersey.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The statue is scenery in Memorial Square. Understand &quot;nancy&quot; or &quot;johnson&quot; or &quot;mrs&quot; as the statue. The description of the statue is &quot;Mrs. Johnson is pictured with a hand-cranked ice cream freezer tucked under one arm. Her other hand grips an ice cream scoop, ready to serve frozen dessert to the huddled masses.&quot; A hand-cranked ice cream freezer is part of the statue. The description is &quot;The hand-cranked ice cream freezer was Mrs. Johnson's invention in 1846, though it was William Young who had the sense to patent the thing in 1848.&quot; The scoop is part of the statue. The description of the scoop is &quot;An anachronism: Alfred Cralle would not invent the tool until 1897.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Post Office is northwest of Nancy Johnson Memorial Square. &quot;Service at the post office is on the slow side since everything went automated.&quot; The slot is scenery in the post office. The slot is a container. Carry out inserting something into the slot: remove the noun from play. Report inserting something into the slot: say &quot;[The noun] falls out of sight, and you know you will never see it again.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Hamwi Street is northeast of an iron gate. &quot;A U-shaped street running from Main Street around to the Memorial Square, Hamwi Street was recently added by ambitious city planners. The small and straggly line of trees has yet to grow enough to provide perceptible shade, so the street is even hotter and more unforgiving than the other parts of town.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The iron gate is northeast of Nancy Johnson Memorial Square. The iron gate is a door. It is lockable and unlocked.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing the name of the iron gate while not opening or closing or locking or unlocking:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is the player
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the gate is open, say &quot;open &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise if the gate is locked;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;locked &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise if the gate is closed;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;closed &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Cold Comfort Ice Cream is north of a metal door. The metal door is north of Hamwi Street. A poster is fixed in place in Cold Comfort. &quot;A poster fills one wall with the blazing promise of treats to come.&quot; The description of the poster is &quot;Coming soon! Thai ice creams! Durian, jackfruit, taro, and coconut flavors!&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The metal door is a door. &quot;A frosty metallic door separates [the location] from [the other side of the metal door].&quot; The metal door is lockable and unlocked. The key to the city unlocks the metal door.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Marciony Street is southeast of Nancy Johnson Memorial Square. &quot;A semi-circular terrace, named somewhat fancifully after one claimant to the invention of the ice cream cone -- though Hamwi Street competes for the same honor. There are wedges of cool shadow here and there thanks to the buildings, but for the most part the southern exposure keeps Marciony unpleasantly hot.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Movie Rental Store is west of a glass door. The glass door is a door. It is west of Marciony Street.  The glass door is lockable and unlocked. The key to the city unlocks the glass door.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Main Street is southeast of Hamwi Street. Main Street is northeast of some bronze gates.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The emergency box is in Main Street. The emergency box is fixed in place. &quot;A fire-red box with a glass front faces the sidewalk, with 'In case of emergency, BREAK GLASS' lettered on it.&quot; The emergency box is closed and transparent. Understand &quot;glass&quot; as the box. Instead of attacking the closed emergency box: say &quot;You hit the emergency box, which shatters open.&quot;; change the emergency box to open. Instead of attacking the open emergency box: say &quot;The glass has already been thoroughly broken.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The syringe is in the emergency box. The description of the syringe is &quot;It contains the cure for Gelato's Syndrome. You can inject anyone you like with it.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The bronze gates are northeast of Marciony Street. The bronze gates are a door. The bronze gates are lockable and unlocked.  The description of the bronze gates is &quot;Erected during the milk-taint revolution of 1937, they were designed to keep Main Street safe from the depredations of dairy-starved rioters.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Public Library is east of Main Street. &quot;Built in the 1920s during the height of the dairy boom, the public library has lush pink velvet seats, marble walls the color of fresh cream, and a motif of cherries carved around every doorframe. An incongruous sign hangs from the ceiling.&quot; The incongruous sign is scenery in the Public Library. The description of the incongruous sign is &quot;Eating and drinking in the library is STRICTLY PROHIBITED.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Town Hall is southeast of Main Street. &quot;Town Hall was built during the slow days of the ice-cream bust, and therefore it is as joyless and utilitarian as the Public Library is ridiculous. Unwilling to be reminded of their pain, the inhabitants steered clear of any decoration that might remotely be construed to resemble a scoop of anything: so there are no curves, only disciplined right angles.&quot; The key to the city is in Town Hall. It unlocks the iron gate. It unlocks the bronze gates.  The description of the key to the city is &quot;A skeleton key.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A room can be indoors or outdoors. The Post Office, the Alfred Cralle Pool Hall, the Store, Cold Comfort, Town Hall, and the Library are indoors.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Use full-length room descriptions.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After looking in an outdoors room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let started printing be false;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if an indoors room is adjacent
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let started printing be true;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;From here you can head into [the list of adjacent indoors rooms][if a door is unmentioned], or go through [the list of visible unmentioned doors]. [run paragraph on]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if an outdoors room is adjacent
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You could[if started printing is true] also[end if] go &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let count be the number of adjacent outdoors rooms;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let index be count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with next room running through adjacent outdoors rooms
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let way be the best route from the location to the next room;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[way] to [the next room]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrease index by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make delimiter index of count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if started printing is true, say paragraph break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before exiting when the player is in an indoors room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player can see a door (called nearest exit), try entering the nearest exit instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with way running through directions
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let next room be the room way from the location;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the next room is a room, try going way instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Blank is a room. The destination of the player is Blank. Blank contains 15 ice cream cones.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Section 4 - Other Players
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Vanessa is a woman in Cold Comfort. Vanessa owns Cold Comfort.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Francine is a woman in the Public Library. Francine carries a book called Phlox for Phyllis. Francine carries a stamped envelope called a pink stamped envelope.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Lewis is a man in the Alfred Cralle Pool Hall. Lewis carries 3 stamped envelopes. Lewis carries a book called Idiot's Guide to Dating. Lewis carries a book called How to Meet Women. Lewis carries a book called Seduction in Three Easy Steps. Lewis carries a DVD called Sleepless in Seattle.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Gene is a man in Nancy Johnson Memorial Square. Gene carries a stamped envelope. Gene carries a DVD called Casablanca. Gene carries a coupon.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rhoda is a woman in Marciony Street. Rhoda carries a book called The Marciony Street Murders. Rhoda carries a DVD called Unsolved Serial Killings XVIII. Rhoda carries a stamped envelope called a squashy package.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Martin is a man in Main Street. Martin carries a DVD called The Lifecycle of the South Sea Tortoise. Martin carries a coupon.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Antony is a man in Movie Rental. Antony carries a coupon. Antony carries a stamped envelope called a postcard.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Shelby is a man in the Town Hall. Shelby carries a DVD called  Conducting An Orderly Meeting. Shelby carries 5 stamped envelopes. Shelby carries an ice cream cone. Shelby carries a coupon.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Christopher is a man in the Library. Christopher owns the Library.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Linnea is a woman in the Alfred Cralle Pool Hall. Linnea owns the Alfred Cralle Pool Hall.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Ned is a man in the Movie Rental Store. Ned owns the Movie Rental.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After printing the name of someone (called target) while listing contents: if the target owns the location of the target, say &quot; (the owner)&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The description of a person is usually &quot;[The noun] [if the noun is clean]looks healthy[otherwise]is the color of [infection color of the noun][end if].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After examining another person who is carrying something: say &quot;[if the noun is female]She[otherwise]He[end if] is carrying [a list of things carried by the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins: let Patient Zero be a random other person; now patient zero is infected.
</font></blockquote><p>
<p>
<p>This is a light variation of a previous example, but we use it here because it is convenient:
<p>
<blockquote><font color="#000080">Section 5 - Conversation
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person has a table-name called conversation.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of asking someone about something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the source be the conversation of the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if topic understood is a topic listed in source
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if there is a turn stamp entry
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You have already heard that [summary entry].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change turn stamp entry to the turn count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the character entry to the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[reply entry][paragraph break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The noun] stares at you blankly.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of telling someone about something:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try asking the noun about it.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;recap&quot; or &quot;recall&quot; or &quot;review&quot; as recalling conversations.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Recalling conversations is an action applying to nothing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out recalling conversations:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with speaker running through other people
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let source be the conversation of the speaker;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort source in turn stamp order;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The speaker] has so far told you: [line break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let index be 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat through source
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if there is a turn stamp entry and the speaker is character entry
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let index be 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;  [summary entry][line break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if index is 0, say &quot;  absolutely nothing[line break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say line break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The conversation of a person is usually Table of General ChitChat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of General ChitChat
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">topic</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">reply</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">summary</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">turn stamp</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">character</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;weather/heat/warmth&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'It's appalling, isn't it? You'd think we didn't pay our taxes.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the weather is appalling&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a number</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;sun/sunlight&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'Good thing the town mostly switched to solar power, har, har.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the town is mostly relying on solar power&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;rain&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'Nope, there isn't going to be rain for 132 days,' replies [the noun].&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that rain is not expected for another 132 days&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;snow/hail/ice&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;This hilarious sally is greeted with hoots of laughter only.&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the concept of snow is downright laughable&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;disease/sickness/illness/syndrome&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;You get a cold, fixed stare in response. 'That's not funny,' [the noun] replies finally.&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that discussing the disease is more or less taboo&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;cold comfort&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'If you haven't tried it, you should,' says [the noun]. 'Best ice cream in town, and that's saying something, you bet.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that Cold Comfort has the best ice cream in town&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;town/city/village&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'Yeah, it's a mite odd,' allows [the noun]. 'Not to everyone's taste, like...' [the noun as pronoun] considers for a moment. 'Like ginger ice cream. Big pieces of crystallized ginger... not everyone likes that.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the town is a mite odd&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;forecast/weatherman&quot; or &quot;weather forecast/man&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'Oh, the weather man's gotten a lot more reliable since the gummint started making it for us,' says [the noun]. 'Now he just reads off the schedule on the air every morning. Pretty much takes the fun right out of the news, if you ask me.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the weather is all generated by schedule&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;taxes/tax&quot; or &quot;weather tax&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;A snort. 'You'd think for the rates we pay we'd get something a little pleasanter, don't you?'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the weather tax really ought to be paying for something nicer than what you get&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;job/employment/work&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'[if the noun owns a room (called the shop)]I own [the shop],' replies [the noun][otherwise]Work at the creamery, like most folk around here,' answers [the noun].&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;this and that about employment in town&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;book/books/reading&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'The Public Library has a good selection, excepting only the cookbook section,' says [the noun]. 'That got censored way back when-- well, way back.'&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the Public Library has a good collection, except for the cookbook section&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The conversation of Vanessa is the Table of Vanessa Chatter.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Vanessa Chatter
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">topic</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">reply</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">summary</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">turn stamp</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">character</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;ice cream&quot; or &quot;sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;'The flavors are [list of flavors],' she responds promptly, without needing to draw breath.&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">&quot;that the flavors are [list of flavors]&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a number</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After reading a command:
<br>&nbsp;&nbsp;&nbsp;&nbsp;while player's command includes &quot;the&quot;, cut the matched text.
</font></blockquote><p>
<p>
<p>This strips 'the' out of the command, so that ASK PERSON ABOUT THE RAIN will be understood as well as ASK PERSON ABOUT RAIN.
<p>
<p>Now we try something a bit unusual. Inform on its own will report each action on its own line, so that each character who walks into or out of a room will be described in a separate paragraph. This is usually fine, but in a game with a lot of characters moving around simultaneously, it can become a bit overwhelming. Instead, we may want to condense these reports into a single line, such as &quot;Ben and Jerry enter from the south&quot;. The following accomplishes that goal by replacing some of the reporting rules, storing the information in a table, and then reading the table back later, once all the character movement has been resolved and the reports can usefully be collated:
<p>
<blockquote><font color="#000080">Section 6 - Movement Description
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person has some text called walk style. The walk style of a man is usually &quot;stride&quot;. The walk style of a woman is usually &quot;strut&quot;. The walk style of Gene is &quot;[one of]wander[or]stroll[purely at random]&quot;. The walk style of Francine is &quot;waddle&quot;. The walk style of Antony is &quot;scamper&quot;. The walk style of Rhoda is &quot;sashay&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Visible Exits
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">character</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">second</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">third</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">heading chosen</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">total</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a direction</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a number</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">with 10 blank rows.</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Visible Entrances
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">character</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">second</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">third</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">heading chosen</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">total</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a person</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a direction</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">a number</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2 color="#000080">with 10 blank rows.</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To clear (current table - a table-name):
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through current table
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blank out the whole row;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To tidy departures of (current table - a table-name):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let next direction be up;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through current table
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if heading chosen entry is next direction
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let accomplice be character entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose row with heading chosen of next direction in the current table;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 1
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change second entry to accomplice;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change total entry to 2;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 2
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if second entry is accomplice
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change third entry to accomplice;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change total entry to 3;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose row with character of accomplice in the current table;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blank out the whole row;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let next direction be heading chosen entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A door has a person called last opener.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone opening a door:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change group size to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the last opener of the noun to the person asked;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is visible, say &quot;[The person asked] opens [the noun]. [run paragraph on]&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[The noun] opens from the other side. [run paragraph on]&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone going through a door (called route):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is not the last opener of the route, continue the action;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is the last person named, say &quot;[The person asked as pronoun]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[The person asked]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot; [if the person asked is in the location]comes[otherwise]goes[end if] through[if the last thing named is not the route] [the route][end if].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The last thing named is a thing that varies. Before printing the name of something (called target) which is not a person: change the last thing named to the target.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report someone going a direction:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is in the location,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose a blank row in the table of visible entrances;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise choose a blank row in the table of visible exits;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change character entry to the person asked;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change total entry to 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the person asked is in the location,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change heading chosen entry to the opposite of the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise change heading chosen entry to the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;stop the action.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the movement reporting rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;sort the Table of Visible Entrances in heading chosen order;
<br>&nbsp;&nbsp;&nbsp;&nbsp;tidy departures of the table of visible entrances;
<br>&nbsp;&nbsp;&nbsp;&nbsp;sort the Table of Visible exits in heading chosen order;
<br>&nbsp;&nbsp;&nbsp;&nbsp;tidy departures of the table of visible exits;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let total row count be the number of filled rows in the Table of Visible Entrances plus the number of filled rows in the Table of Visible Exits;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if total row count is 0, rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;generate descriptions from the Table of Visible Entrances;
<br>&nbsp;&nbsp;&nbsp;&nbsp;generate descriptions from the Table of Visible Exits;
<br>&nbsp;&nbsp;&nbsp;&nbsp;clear the Table of Visible Entrances; clear the Table of Visible Exits.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To generate descriptions from (current table - a table-name):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let count be the number of filled rows in the current table;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if count is 0, rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let index be count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the current table
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let accomplice be character entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if character entry is a person, change character entry to marked for listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if there is a second entry and second entry is a person, change second entry to marked for listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if there is a third entry and third entry is a person, change third entry to marked for listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let target be the room the heading chosen entry from the location;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 3, say &quot;[The character entry], [the second entry][optional comma] and [the third entry] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 2, say &quot;[The character entry] and [the second entry] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 1
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the character entry is the last person named, say &quot;[The character entry as pronoun] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[The character entry] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if total entry is 1, say &quot;[walk style of the character entry]s &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;walk[if total entry is 1]s[end if] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the character entry is in the location
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is indoors and target is indoors, say &quot;over from &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is outdoors and target is indoors, say &quot;out of &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is indoors and target is outdoors, say &quot;in from &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is outdoors and target is outdoors, say &quot;over from &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is indoors and target is indoors, say &quot;over to &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is outdoors and target is indoors, say &quot;into &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is indoors and target is outdoors, say &quot;out [if a door is visible][the random visible door][end if] to &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if location is outdoors and target is outdoors, say &quot;over to &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if target is outdoors, say &quot;[the heading chosen entry]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[the target]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the total entry is 1 and count is 1 and accomplice carries something, say &quot;, carrying [a list of things carried by the accomplice]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrease index by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make delimiter index of count, continuing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change group size to total entry;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if a marked for listing person is infected
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[eliminate the case in which we have already seen this description because we just typed LOOK and the patient was in the room at the time]
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if looking and a marked for listing person is not in the location
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear marked people;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say paragraph break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describe patients;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear marked people;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say paragraph break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The last person named is a person that varies. Before printing the name of a person (called target): change the last person named to the target. Group size is a number that varies. Group size is 1.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To clear marked people:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with named party running through people
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the named party to not marked for listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before listing nondescript items:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of people who are marked for listing is 0, make no decision;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;change group size to the number of people who are marked for listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;describe patients.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To describe patients:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if every marked for listing person is infected and at least three people are marked for listing
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;They are all sick as dogs, every one.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear marked people;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the number of people who are marked for listing is greater than two and the number of infected people who are marked for listing is greater than the number of clean people who are marked for listing
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Only [the list of clean people who are marked for listing] currently remain[if the number of clean people who are marked for listing is 1]s[end if] untainted.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear marked people;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let count be the number of marked for listing other people who are infected;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if count is 0
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say paragraph break; make no decision;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let index be count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with patient running through marked for listing other people who are infected
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if index is count
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if count is 1 and the patient is the last person named
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The patient as pronoun]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The patient]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[the patient]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot; [looks as though dipped in for index] [infection color of the patient]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrease index by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make delimiter index of count;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;clear marked people.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (named character - a man) as pronoun:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if group size is 1, say &quot;He&quot;; if group size is 2, say &quot;The latter&quot;; if group size is greater than 2, say &quot;The last&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (named character - a woman) as pronoun: if group size is 1, say &quot;She&quot;; if group size is 2, say &quot;The latter&quot;; if group size is greater than 2, say &quot;The last&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say looks as though dipped in for (index - a number):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let divider be the number of filled rows in the Table of Dipping Phrases;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if index is greater than 4, let index be the remainder after dividing index by divider;
<br>&nbsp;&nbsp;&nbsp;&nbsp;choose row index in the Table of Dipping Phrases;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say dipping entry.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Dipping Phrases
<br>dipping
<br>&quot;looks as though dipped in&quot;
<br>&quot;could have been rolling in&quot;
<br>&quot;has a bad case of&quot;
<br>&quot;suffers from&quot;
<br>&quot;contracted a virulent&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A door is usually scenery.
</font></blockquote><p>
<p>
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work; feel free to skip down to the scenario if you prefer.
<p>
<blockquote><font color="#000080">To make delimiter (index - a number) of (count - a number), continuing or halting:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if index is 0
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if continuing, say &quot;. [run paragraph on]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise if index is 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if count is 2, say &quot; and &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[optional comma] and &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;, &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say optional comma:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if using the serial comma option, say &quot;,&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise do nothing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;go to cold comfort / z / z / z / z / ask vanessa for french vanilla / ask vanessa for chocolate / ask vanessa about flavors / ask vanessa for chocolate chocolate chip&quot;.
</font></blockquote><p>
<p>
<p>Because so much of this game is randomized, it will not be possible to provide a test suite that systematically solves it. A good strategy is to go to Main Street, get the syringe; go to the Town Hall and get the key; then visit the shops, inject everyone, and lock them in when they've all been injected. Then go to the Pool Hall, turn on the air conditioner, and wait for the remaining parties to show up.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=Rdoc51.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=Rdoc50.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../Rindex.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=Rdoc52.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
