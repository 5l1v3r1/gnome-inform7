<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>11.15. Phrases to decide other things</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#ffffff">
<!-- SEARCH TITLE "A Haughty Spirit" -->
<!-- SEARCH SECTION "Ex 167" -->
<!-- SEARCH SORT "Ex 011-015-167" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc167.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap11.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 11: Phrases</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc169.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>11.15. Phrases to decide other things</b></font></td></tr></table>
<p>
<p>A condition is a yes/no decision, but we can also take decisions where the result is a value. Suppose we want to create a concept of the &quot;grand prize&quot;, which will have different values at different times in play. Each time the &quot;grand prize&quot; is referred to, Inform will have to decide what its value is, and the following tells Inform how to make that decision:
<p>
<blockquote><font color="#000080">To decide which treasure is the grand prize:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the Dark Room has been visited then decide on the silver bars;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on the plover's egg.
</font></blockquote><p>
<p>
<p>Note that we have to say what kind the answer will be: here it's a kind of thing called &quot;treasure&quot; (which we're supposing has already been created), and as it turns out only two treasures are ever eligible anyway (we're also supposing that the plover's egg and the silver bars are treasures already created, of course). And note also that the phrase must in all cases end with a &quot;decide on ...&quot; to say what the answer is.
<p>
<p>Now that we have &quot;grand prize&quot; created, we can use it just as we would use any other value, so for instance:
<p>
<blockquote><font color="#000080">if taking the grand prize then ...
</font></blockquote><p>
<p>
<p>As this is something of a dialect difference between English speakers, &quot;what&quot; and &quot;which&quot; are synonymous here, i.e., we could equally well write something like:
<p>
<blockquote><font color="#000080">To decide what number is the target score: ...
</font></blockquote><p>
<p>
<p>(A phrase to decide if something-or-other is exactly the same thing as a phrase to decide a truth state, and indeed, if we want to then we can use &quot;decide on T&quot;, where T is a truth state, in its definition. For instance:
<p>
<blockquote><font color="#000080">To decide if time is short:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the time of day is after 10 PM, decide on true;
<br>&nbsp;&nbsp;&nbsp;&nbsp;...
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on whether or not Jennifer is hurried.
</font></blockquote><p>
<p>
<p>&quot;Decide on true&quot; is exactly equivalent to the more normally used &quot;decide yes&quot;, and of course it is optional. The last line is more interesting since it effectively delegates the answer to another condition.)
<p>
<p><hr><p>
<a name="e227"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex227.html#e227 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>166</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=ex227.html#e227 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000">Witnessed 2</font></b></a><br>A piece of ghost-hunting equipment that responds depending on whether or not the meter is on and a ghost is visible or touchable from the current location.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex227.html#e227 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<!-- EXAMPLE START -->
<a name="e384"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc168.html#e384 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>167</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=doc168.html#e384 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> A Haughty Spirit</font></b></a><br>Windows overlooking lower spaces which will prevent the player from climbing through if the lower space is too far below.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="rbarrow"><TD width=38px height=30px align="left" valign="center"><a  href=Rex384.html#e384 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>RB</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Suppose we have a game in which the player can climb through windows which overlook rooms below. We want him to be allowed to climb out windows to reach a room on the same level or at most one level lower than the one he's on; otherwise, he should get a refusal, saying that he would break his neck.
<p>
<p>To figure out the height distance between the start room and the destination room, we might have a repeat loop look at all the directions one has to follow along the &quot;best route&quot; path between the two rooms, and record any ups and downs; then subtract the number of &quot;up&quot; steps from the number of &quot;down&quot; steps, and report what remains.
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode257(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]A Haughty Spirit[=0x0022=][=0x000A=][=0x000A=]To decide what number is the distance (first place - a room) rises above (second place - a room):[=0x000A=][=0x0009=]let the total distance be the number of moves from the first place to the second place;[=0x000A=][=0x0009=]if the total distance is less than 1, decide on 0;[=0x000A=][=0x0009=]let count of down moves be 0;[=0x000A=][=0x0009=]let count of up moves be 0;[=0x000A=][=0x0009=]let next place be the first place;[=0x000A=][=0x0009=]repeat with counter running from 1 to the total distance[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let the way be the best route from the next place to the second place;[=0x000A=][=0x0009=][=0x0009=]if the way is down, let count of down moves be the count of down moves plus 1;[=0x000A=][=0x0009=][=0x0009=]if the way is up, let the count of up moves be the count of up moves plus 1;[=0x000A=][=0x0009=][=0x0009=]let next place be the room the way from next place;[=0x000A=][=0x0009=]end repeat;[=0x000A=][=0x0009=]let the decision be the count of down moves minus the count of up moves;[=0x000A=][=0x0009=]decide on the decision.[=0x000A=][=0x000A=][Now we just have to create windows and some action rules for interacting with them...][=0x000A=][=0x000A=]A window is a kind of thing. A window is always fixed in place. A window is usually enterable. A window can be open or closed. A window is usually closed. A window can be openable or unopenable. A window is usually openable.[=0x000A=][=0x000A=]Understand [=0x0022=]climb through [something][=0x0022=] as entering. Understand [=0x0022=]jump through/out [something][=0x0022=] as entering.[=0x000A=][=0x000A=]Before entering a closed window:[=0x000A=][=0x0009=]say [=0x0022=][The noun] would have to be opened first.[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of entering a window:[=0x000A=][=0x0009=]if the noun overlooks a room (called the far side)[=0x000A=][=0x0009=]begin;[=0x000A=][=0x0009=][=0x0009=]let fall be the distance the location rises above the far side;[=0x000A=][=0x0009=][=0x0009=]if fall is greater than 1, say [=0x0022=]You[=0x0027=]d break your neck.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You tumble into [the far side].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]move the player to the far side;[=0x000A=][=0x0009=]otherwise;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There[=0x0027=]s nowhere to go.[=0x0022=];[=0x000A=][=0x0009=]end if.[=0x000A=][=0x000A=]Instead of examining a window:[=0x000A=][=0x0009=]say [=0x0022=][The noun] [if the noun is open]opens over[otherwise]gives a view of[end if] [the list of rooms overlooked by the noun].[=0x0022=][=0x000A=][=0x000A=][Here we must anticipate a little from next chapter, and provide ourselves with a way of keeping track of how windows and rooms relate to one another:][=0x000A=][=0x000A=]Overlooking relates various windows to various rooms. The verb to overlook (it overlooks, they overlook, it overlooked, it is overlooked, it is overlooking) implies the overlooking relation. The initial appearance of a window is usually [=0x0022=][The item described] overlooks [the list of rooms overlooked by the item described].[=0x0022=][=0x000A=][=0x000A=]The Square Keep is above the Winding Staircase. The Winding Staircase is above the Motte. A crown and a broken sword are in the Motte. The Bailey is west of the Motte.[=0x000A=][=0x000A=]The long window is in the Keep. The long window overlooks the Bailey and the Motte. The narrow window is in the Winding Staircase. The narrow window overlooks the Bailey.[=0x000A=][=0x000A=]Test me with [=0x0022=]jump through window / open window / jump through window / d / x narrow window / open window / climb through window / e / up / down[=0x0022=].[=0x000A=][=0x000A=]');
}
</script>
<a href="javascript:pasteCode257()"><img border=0 src=../doc_images/paste.png></a> &quot;A Haughty Spirit&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide what number is the distance (first place - a room) rises above (second place - a room):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the total distance be the number of moves from the first place to the second place;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the total distance is less than 1, decide on 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let count of down moves be 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let count of up moves be 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let next place be the first place;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with counter running from 1 to the total distance
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the way be the best route from the next place to the second place;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the way is down, let count of down moves be the count of down moves plus 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the way is up, let the count of up moves be the count of up moves plus 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let next place be the room the way from next place;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the decision be the count of down moves minus the count of up moves;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on the decision.
</font></blockquote><p>
<p>
<p>Now we just have to create windows and some action rules for interacting with them...
<p>
<blockquote><font color="#000080">A window is a kind of thing. A window is always fixed in place. A window is usually enterable. A window can be open or closed. A window is usually closed. A window can be openable or unopenable. A window is usually openable.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;climb through [something]&quot; as entering. Understand &quot;jump through/out [something]&quot; as entering.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before entering a closed window:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The noun] would have to be opened first.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of entering a window:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun overlooks a room (called the far side)
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let fall be the distance the location rises above the far side;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if fall is greater than 1, say &quot;You'd break your neck.&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You tumble into [the far side].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the player to the far side;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;There's nowhere to go.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of examining a window:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The noun] [if the noun is open]opens over[otherwise]gives a view of[end if] [the list of rooms overlooked by the noun].&quot;
</font></blockquote><p>
<p>
<p>Here we must anticipate a little from next chapter, and provide ourselves with a way of keeping track of how windows and rooms relate to one another:
<p>
<blockquote><font color="#000080">Overlooking relates various windows to various rooms. The verb to overlook (it overlooks, they overlook, it overlooked, it is overlooked, it is overlooking) implies the overlooking relation. The initial appearance of a window is usually &quot;[The item described] overlooks [the list of rooms overlooked by the item described].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Square Keep is above the Winding Staircase. The Winding Staircase is above the Motte. A crown and a broken sword are in the Motte. The Bailey is west of the Motte.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The long window is in the Keep. The long window overlooks the Bailey and the Motte. The narrow window is in the Winding Staircase. The narrow window overlooks the Bailey.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;jump through window / open window / jump through window / d / x narrow window / open window / climb through window / e / up / down&quot;.
</font></blockquote><p>
<p>
<p>We could then add rules to allow the player to look through windows and see things in the rooms below, but that would require more material from later chapters.
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc168.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc167.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc169.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
