<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.8. Waiting, Sleeping</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
.wiarrow, .wiarrow TD
{
background-image:url('../doc_images/wiarrow.png');
color:white;
}
.rbarrow, .rbarrow TD
{
background-image:url('../doc_images/rbarrow.png');
color:white;
}
-->
</STYLE>
<body bgcolor="#FFFFE0">
<!-- SEARCH TITLE "Change of Basis" -->
<!-- SEARCH SECTION "Ex 47" -->
<!-- SEARCH SORT "Ex 006-008-047" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=Rdoc33.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../Rchap6.html STYLE="text-decoration: none"><font color="#FFFFE0" size=2>Chapter 6: Commands</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../Rindex.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=Rdoc35.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>6.8. Waiting, Sleeping</b></font></td></tr></table>
<p>
<p>The standard WAIT command makes time pass at the same rate that it would anyway - one minute per turn. In a game where events happen at specific times of day, though, we might want to give the player more control. <b>Nine AM Appointment</b> shows how to give the player a WAIT 10 MINUTES command, while <b>Delayed Gratification</b> lets him WAIT UNTIL a specific time of day.
<p>
<p>Ordinarily, Inform also refuses to allow the player to SLEEP and WAKE UP: the commands exist, but have no effect. <b>Change of Basis</b> lets the player put himself into a sleep state in which he cannot do anything. A somewhat more interesting expansion on this idea would be to let the player sleep and have dreams; there are no examples specifically of dream states, but we might consult the examples on scenes about how to disrupt one environment and move the player to another, entirely new one.
<p>
<a href=Rdoc19.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/diamond.png'>&nbsp;<i>See </i><b>Scene Changes</b></font></a><i> for ways to move the player to a new environment such as a dream state</i><p><p>
<p><hr><p>
<a name="e248"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex248.html#e248 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>333</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex248.html#e248 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Nine AM Appointment</font></b></a><br>A WAIT [number] MINUTES command which advances through an arbitrary number of turns.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex248.html#e248 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<a name="e173"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rex173.html#e173 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>334</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rex173.html#e173 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Delayed Gratification</font></b></a><br>A WAIT UNTIL [time] command which advances until the game clock reaches the correct hour.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex173.html#e173 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<!-- EXAMPLE START -->
<a name="e80"><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=Rdoc34.html#e80 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>47</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=Rdoc34.html#e80 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Change of Basis</font></b></a><br>Implementing sleeping and wakeful states.<p></td><td halign="right" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="wiarrow"><TD width=38px height=30px align="left" valign="center"><a  href=ex80.html#e80 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><i>WI</i></div></a></TD></TR></TABLE></td></tr></table>
<table border=0 bgcolor="#ffffc0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2>
<p>
<p>Suppose we want to allow the player to go to sleep some of the time:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode539(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('[=0x0022=]Change of Basis[=0x0022=][=0x000A=][=0x000A=]A person is either awake or asleep. A person is usually awake.[=0x000A=][=0x000A=][The important thing to note here is that it does not work to say [=0x0022=]the player is either asleep or awake[=0x0022=]. This is because the player is not necessarily one specific person or thing during the game: the identity of the player can be changed, as we will see later.][=0x000A=][=0x000A=][So if we want to make rules about the properties of the player, we should attach these rules to the [=0x0022=]person[=0x0022=] kind (or, if they really need to belong only to the player, to the [=0x0022=]player-character[=0x0022=] kind). A player-character is a kind of person.][=0x000A=][=0x000A=]Linear Algebra Class is a room. [=0x0022=]The blackboard is covered with square arrangements of numbers. These are supposed to convey something to you, but mostly you[=0x0027=]re finding them soporific.[=0x0022=][=0x000A=][=0x000A=][Now a few rules about changing from one state to the other:][=0x000A=][=0x000A=]Instead of sleeping: now the player is asleep; say [=0x0022=]You drop off.[=0x0022=][=0x000A=][=0x000A=]Instead of doing something other than waking up, waiting or sleeping when the player is asleep:[=0x000A=][=0x0009=]say [=0x0022=]Ssh! You[=0x0027=]re sleeping![=0x0022=][=0x000A=][=0x000A=]Instead of sleeping when the player is asleep:[=0x000A=][=0x0009=]say [=0x0022=]Zzzz.[=0x0022=][=0x000A=][=0x000A=]Instead of waking up when the player is asleep:[=0x000A=][=0x0009=]now the player is awake;[=0x000A=][=0x0009=]say [=0x0022=]You come to suddenly, wiping drool from your lips.[=0x0022=][=0x000A=][=0x000A=]Instead of doing something other than looking or sleeping when the player is awake:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]d really rather just sleep through this.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]wake up / sleep / look / z / sleep / wake up / look[=0x0022=].[=0x000A=]');
}
</script>
<a href="javascript:pasteCode539()"><img border=0 src=../doc_images/paste.png></a> &quot;Change of Basis&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person is either awake or asleep. A person is usually awake.
</font></blockquote><p>
<p>
<p>The important thing to note here is that it does not work to say &quot;the player is either asleep or awake&quot;. This is because the player is not necessarily one specific person or thing during the game: the identity of the player can be changed, as we will see later.
<p>
<p>So if we want to make rules about the properties of the player, we should attach these rules to the &quot;person&quot; kind (or, if they really need to belong only to the player, to the &quot;player-character&quot; kind). A player-character is a kind of person.
<p>
<blockquote><font color="#000080">Linear Algebra Class is a room. &quot;The blackboard is covered with square arrangements of numbers. These are supposed to convey something to you, but mostly you're finding them soporific.&quot;
</font></blockquote><p>
<p>
<p>Now a few rules about changing from one state to the other:
<p>
<blockquote><font color="#000080">Instead of sleeping: now the player is asleep; say &quot;You drop off.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of doing something other than waking up, waiting or sleeping when the player is asleep:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Ssh! You're sleeping!&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of sleeping when the player is asleep:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Zzzz.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of waking up when the player is asleep:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the player is awake;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You come to suddenly, wiping drool from your lips.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of doing something other than looking or sleeping when the player is awake:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You'd really rather just sleep through this.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;wake up / sleep / look / z / sleep / wake up / look&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=Rdoc34.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=Rdoc33.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../Rindex.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=Rdoc35.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
